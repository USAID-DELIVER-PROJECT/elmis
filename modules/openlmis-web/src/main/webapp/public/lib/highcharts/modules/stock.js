/*
 Highcharts JS v5.0.10 (2017-03-31)
 Highstock as a plugin for Highcharts

 (c) 2017 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(J){"object"===typeof module&&module.exports?module.exports=J:J(Highcharts)})(function(J){(function(a){var F=a.addEvent,p=a.Axis,z=a.Chart,D=a.css,G=a.dateFormat,H=a.defined,y=a.each,w=a.extend,x=a.noop,n=a.Series,I=a.timeUnits;a=a.wrap;a(n.prototype,"init",function(a){var b;a.apply(this,Array.prototype.slice.call(arguments,1));(b=this.xAxis)&&b.options.ordinal&&F(this,"updatedData",function(){delete b.ordinalIndex})});a(p.prototype,"getTimeTicks",function(a,b,c,k,l,d,E,e){var f=0,r,q,g=
{},h,C,t,A=[],m=-Number.MAX_VALUE,u=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!d||3>d.length||void 0===c)return a.call(this,b,c,k,l);C=d.length;for(r=0;r<C;r++){t=r&&d[r-1]>k;d[r]<c&&(f=r);if(r===C-1||d[r+1]-d[r]>5*E||t){if(d[r]>m){for(q=a.call(this,b,d[f],d[r],l);q.length&&q[0]<=m;)q.shift();q.length&&(m=q[q.length-1]);A=A.concat(q)}f=r+1}if(t)break}a=q.info;if(e&&a.unitRange<=I.hour){r=A.length-1;for(f=1;f<r;f++)G("%d",A[f])!==G("%d",A[f-1])&&(g[A[f]]="day",
h=!0);h&&(g[A[0]]="day");a.higherRanks=g}A.info=a;if(e&&H(u)){e=a=A.length;r=[];var B;for(h=[];e--;)f=this.translate(A[e]),B&&(h[e]=B-f),r[e]=B=f;h.sort();h=h[Math.floor(h.length/2)];h<.6*u&&(h=null);e=A[a-1]>k?a-1:a;for(B=void 0;e--;)f=r[e],k=Math.abs(B-f),B&&k<.8*u&&(null===h||k<.8*h)?(g[A[e]]&&!g[A[e+1]]?(k=e+1,B=f):k=e,A.splice(k,1)):B=f}return A});w(p.prototype,{beforeSetTickPositions:function(){var a,b=[],c=!1,k,l=this.getExtremes(),d=l.min,E=l.max,e,f=this.isXAxis&&!!this.options.breaks,l=
this.options.ordinal,r=this.chart.options.chart.ignoreHiddenSeries;if(l||f){y(this.series,function(e,g){if(!(r&&!1===e.visible||!1===e.takeOrdinalPosition&&!f)&&(b=b.concat(e.processedXData),a=b.length,b.sort(function(g,e){return g-e}),a))for(g=a-1;g--;)b[g]===b[g+1]&&b.splice(g,1)});a=b.length;if(2<a){k=b[1]-b[0];for(e=a-1;e--&&!c;)b[e+1]-b[e]!==k&&(c=!0);!this.options.keepOrdinalPadding&&(b[0]-d>k||E-b[b.length-1]>k)&&(c=!0)}c?(this.ordinalPositions=b,k=this.ordinal2lin(Math.max(d,b[0]),!0),e=Math.max(this.ordinal2lin(Math.min(E,
b[b.length-1]),!0),1),this.ordinalSlope=E=(E-d)/(e-k),this.ordinalOffset=d-k*E):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=void 0}this.isOrdinal=l&&c;this.groupIntervalFactor=null},val2lin:function(a,b){var c=this.ordinalPositions;if(c){var k=c.length,l,d;for(l=k;l--;)if(c[l]===a){d=l;break}for(l=k-1;l--;)if(a>c[l]||0===l){a=(a-c[l])/(c[l+1]-c[l]);d=l+a;break}b=b?d:this.ordinalSlope*(d||0)+this.ordinalOffset}else b=a;return b},lin2val:function(a,b){var c=this.ordinalPositions;if(c){var k=
this.ordinalSlope,l=this.ordinalOffset,d=c.length-1,q;if(b)0>a?a=c[0]:a>d?a=c[d]:(d=Math.floor(a),q=a-d);else for(;d--;)if(b=k*d+l,a>=b){k=k*(d+1)+l;q=(a-b)/(k-b);break}return void 0!==q&&void 0!==c[d]?c[d]+(q?q*(c[d+1]-c[d]):0):a}return a},getExtendedPositions:function(){var a=this.chart,b=this.series[0].currentDataGrouping,c=this.ordinalIndex,k=b?b.count+b.unitName:"raw",l=this.getExtremes(),d,E;c||(c=this.ordinalIndex={});c[k]||(d={series:[],chart:a,getExtremes:function(){return{min:l.dataMin,
max:l.dataMax}},options:{ordinal:!0},val2lin:p.prototype.val2lin,ordinal2lin:p.prototype.ordinal2lin},y(this.series,function(e){E={xAxis:d,xData:e.xData,chart:a,destroyGroupedData:x};E.options={dataGrouping:b?{enabled:!0,forced:!0,approximation:"open",units:[[b.unitName,[b.count]]]}:{enabled:!1}};e.processData.apply(E);d.series.push(E)}),this.beforeSetTickPositions.apply(d),c[k]=d.ordinalPositions);return c[k]},getGroupIntervalFactor:function(a,b,c){var k;c=c.processedXData;var l=c.length,d=[];k=
this.groupIntervalFactor;if(!k){for(k=0;k<l-1;k++)d[k]=c[k+1]-c[k];d.sort(function(a,e){return a-e});d=d[Math.floor(l/2)];a=Math.max(a,c[0]);b=Math.min(b,c[l-1]);this.groupIntervalFactor=k=l*d/(b-a)}return k},postProcessTickInterval:function(a){var b=this.ordinalSlope;return b?this.options.breaks?this.closestPointRange:a/(b/this.closestPointRange):a}});p.prototype.ordinal2lin=p.prototype.val2lin;a(z.prototype,"pan",function(a,b){var c=this.xAxis[0],k=b.chartX,l=!1;if(c.options.ordinal&&c.series.length){var d=
this.mouseDownX,q=c.getExtremes(),e=q.dataMax,f=q.min,r=q.max,v=this.hoverPoints,g=c.closestPointRange,d=(d-k)/(c.translationSlope*(c.ordinalSlope||g)),h={ordinalPositions:c.getExtendedPositions()},g=c.lin2val,C=c.val2lin,t;h.ordinalPositions?1<Math.abs(d)&&(v&&y(v,function(g){g.setState()}),0>d?(v=h,t=c.ordinalPositions?c:h):(v=c.ordinalPositions?c:h,t=h),h=t.ordinalPositions,e>h[h.length-1]&&h.push(e),this.fixedRange=r-f,d=c.toFixedRange(null,null,g.apply(v,[C.apply(v,[f,!0])+d,!0]),g.apply(t,[C.apply(t,
[r,!0])+d,!0])),d.min>=Math.min(q.dataMin,f)&&d.max<=Math.max(e,r)&&c.setExtremes(d.min,d.max,!0,!1,{trigger:"pan"}),this.mouseDownX=k,D(this.container,{cursor:"move"})):l=!0}else l=!0;l&&a.apply(this,Array.prototype.slice.call(arguments,1))});n.prototype.gappedPath=function(){var a=this.options.gapSize,b=this.points.slice(),c=b.length-1;if(a&&0<c)for(;c--;)b[c+1].x-b[c].x>this.closestPointRange*a&&b.splice(c+1,0,{isNull:!0});return this.getGraphPath(b)}})(J);(function(a){function F(){return Array.prototype.slice.call(arguments,
1)}function p(a){a.apply(this);this.drawBreaks(this.xAxis,["x"]);this.drawBreaks(this.yAxis,z(this.pointArrayMap,["y"]))}var z=a.pick,D=a.wrap,G=a.each,H=a.extend,y=a.isArray,w=a.fireEvent,x=a.Axis,n=a.Series;H(x.prototype,{isInBreak:function(a,q){var b=a.repeat||Infinity,c=a.from,k=a.to-a.from;q=q>=c?(q-c)%b:b-(c-q)%b;return a.inclusive?q<=k:q<k&&0!==q},isInAnyBreak:function(a,q){var b=this.options.breaks,c=b&&b.length,k,l,d;if(c){for(;c--;)this.isInBreak(b[c],a)&&(k=!0,l||(l=z(b[c].showPoints,this.isXAxis?
!1:!0)));d=k&&q?k&&!l:k}return d}});D(x.prototype,"setTickPositions",function(a){a.apply(this,Array.prototype.slice.call(arguments,1));if(this.options.breaks){var q=this.tickPositions,b=this.tickPositions.info,c=[],k;for(k=0;k<q.length;k++)this.isInAnyBreak(q[k])||c.push(q[k]);this.tickPositions=c;this.tickPositions.info=b}});D(x.prototype,"init",function(a,q,b){var c=this;b.breaks&&b.breaks.length&&(b.ordinal=!1);a.call(this,q,b);a=this.options.breaks;c.isBroken=y(a)&&!!a.length;c.isBroken&&(c.val2lin=
function(a){var k=a,b,q;for(q=0;q<c.breakArray.length;q++)if(b=c.breakArray[q],b.to<=a)k-=b.len;else if(b.from>=a)break;else if(c.isInBreak(b,a)){k-=a-b.from;break}return k},c.lin2val=function(a){var b,k;for(k=0;k<c.breakArray.length&&!(b=c.breakArray[k],b.from>=a);k++)b.to<a?a+=b.len:c.isInBreak(b,a)&&(a+=b.len);return a},c.setExtremes=function(a,c,b,q,e){for(;this.isInAnyBreak(a);)a-=this.closestPointRange;for(;this.isInAnyBreak(c);)c-=this.closestPointRange;x.prototype.setExtremes.call(this,a,
c,b,q,e)},c.setAxisTranslation=function(a){x.prototype.setAxisTranslation.call(this,a);var b=c.options.breaks;a=[];var k=[],q=0,e,f,r=c.userMin||c.min,v=c.userMax||c.max,g=z(c.pointRangePadding,0),h,C;for(C in b)f=b[C],e=f.repeat||Infinity,c.isInBreak(f,r)&&(r+=f.to%e-r%e),c.isInBreak(f,v)&&(v-=v%e-f.from%e);for(C in b){f=b[C];h=f.from;for(e=f.repeat||Infinity;h-e>r;)h-=e;for(;h<r;)h+=e;for(;h<v;h+=e)a.push({value:h,move:"in"}),a.push({value:h+(f.to-f.from),move:"out",size:f.breakSize})}a.sort(function(g,
a){return g.value===a.value?("in"===g.move?0:1)-("in"===a.move?0:1):g.value-a.value});b=0;h=r;for(C in a)f=a[C],b+="in"===f.move?1:-1,1===b&&"in"===f.move&&(h=f.value),0===b&&(k.push({from:h,to:f.value,len:f.value-h-(f.size||0)}),q+=f.value-h-(f.size||0));c.breakArray=k;c.unitLength=v-r-q+g;w(c,"afterBreaks");c.transA=c.options.staticScale?c.options.staticScale:(v-c.min+g)/c.unitLength*c.transA;g&&(c.minPixelPadding=c.transA*c.minPointOffset);c.min=r;c.max=v})});D(n.prototype,"generatePoints",function(a){a.apply(this,
F(arguments));var q=this.xAxis,b=this.yAxis,c=this.points,k,l=c.length,d=this.options.connectNulls,n;if(q&&b&&(q.options.breaks||b.options.breaks))for(;l--;)k=c[l],n=null===k.y&&!1===d,n||!q.isInAnyBreak(k.x,!0)&&!b.isInAnyBreak(k.y,!0)||(c.splice(l,1),this.data[l]&&this.data[l].destroyElements())});a.Series.prototype.drawBreaks=function(a,q){var b=this,c=b.points,k,l,d,n;a&&G(q,function(e){k=a.breakArray||[];l=a.isXAxis?a.min:z(b.options.threshold,a.min);G(c,function(f){n=z(f["stack"+e.toUpperCase()],
f[e]);G(k,function(e){d=!1;if(l<e.from&&n>e.to||l>e.from&&n<e.from)d="pointBreak";else if(l<e.from&&n>e.from&&n<e.to||l>e.from&&n>e.to&&n<e.from)d="pointInBreak";d&&w(a,d,{point:f,brk:e})})})})};D(a.seriesTypes.column.prototype,"drawPoints",p);D(a.Series.prototype,"drawPoints",p)})(J);(function(a){var F=a.arrayMax,p=a.arrayMin,z=a.Axis,D=a.defaultPlotOptions,G=a.defined,H=a.each,y=a.extend,w=a.format,x=a.isNumber,n=a.merge,I=a.pick,q=a.Point,b=a.Tooltip,c=a.wrap,k=a.Series.prototype,l=k.processData,
d=k.generatePoints,E=k.destroy,e={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y",
"%Y","-%Y"]}},f={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},r=a.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",
[1]],["week",[1]],["month",[1,3,6]],["year",null]],v={sum:function(a){var g=a.length,e;if(!g&&a.hasNulls)e=null;else if(g)for(e=0;g--;)e+=a[g];return e},average:function(a){var g=a.length;a=v.sum(a);x(a)&&g&&(a/=g);return a},open:function(a){return a.length?a[0]:a.hasNulls?null:void 0},high:function(a){return a.length?F(a):a.hasNulls?null:void 0},low:function(a){return a.length?p(a):a.hasNulls?null:void 0},close:function(a){return a.length?a[a.length-1]:a.hasNulls?null:void 0},ohlc:function(a,e,f,
t){a=v.open(a);e=v.high(e);f=v.low(f);t=v.close(t);if(x(a)||x(e)||x(f)||x(t))return[a,e,f,t]},range:function(a,e){a=v.low(a);e=v.high(e);if(x(a)||x(e))return[a,e]}};k.groupData=function(a,e,f,t){var g=this.data,m=this.options.data,u=[],B=[],h=[],c=a.length,b,C,k=!!e,r=[[],[],[],[]];t="function"===typeof t?t:v[t];var q=this.pointArrayMap,l=q&&q.length,d,n=0;for(d=C=0;d<=c&&!(a[d]>=f[0]);d++);for(d;d<=c;d++){for(;(void 0!==f[n+1]&&a[d]>=f[n+1]||d===c)&&(b=f[n],this.dataGroupInfo={start:C,length:r[0].length},
C=t.apply(this,r),void 0!==C&&(u.push(b),B.push(C),h.push(this.dataGroupInfo)),C=d,r[0]=[],r[1]=[],r[2]=[],r[3]=[],n+=1,d!==c););if(d===c)break;if(q){b=this.cropStart+d;b=g&&g[b]||this.pointClass.prototype.applyOptions.apply({series:this},[m[b]]);var w,p;for(w=0;w<l;w++)p=b[q[w]],x(p)?r[w].push(p):null===p&&(r[w].hasNulls=!0)}else b=k?e[d]:null,x(b)?r[0].push(b):null===b&&(r[0].hasNulls=!0)}return[u,B,h]};k.processData=function(){var a=this.chart,e=this.options.dataGrouping,f=!1!==this.allowDG&&e&&
I(e.enabled,a.options.isStock),c=this.visible||!a.options.chart.ignoreHiddenSeries,b;this.forceCrop=f;this.groupPixelWidth=null;this.hasProcessed=!0;if(!1!==l.apply(this,arguments)&&f){this.destroyGroupedData();var m=this.processedXData,u=this.processedYData,B=a.plotSizeX,a=this.xAxis,L=a.options.ordinal,K=this.groupPixelWidth=a.getGroupPixelWidth&&a.getGroupPixelWidth();if(K){this.isDirty=b=!0;var d=a.getExtremes(),f=d.min,d=d.max,L=L&&a.getGroupIntervalFactor(f,d,this)||1,B=K*(d-f)/B*L,K=a.getTimeTicks(a.normalizeTimeTickInterval(B,
e.units||r),Math.min(f,m[0]),Math.max(d,m[m.length-1]),a.options.startOfWeek,m,this.closestPointRange),m=k.groupData.apply(this,[m,u,K,e.approximation]),u=m[0],L=m[1];if(e.smoothed){e=u.length-1;for(u[e]=Math.min(u[e],d);e--&&0<e;)u[e]+=B/2;u[0]=Math.max(u[0],f)}this.currentDataGrouping=K.info;this.closestPointRange=K.info.totalRange;this.groupMap=m[2];G(u[0])&&u[0]<a.dataMin&&c&&(a.min===a.dataMin&&(a.min=u[0]),a.dataMin=u[0]);this.processedXData=u;this.processedYData=L}else this.currentDataGrouping=
this.groupMap=null;this.hasGroupedData=b}};k.destroyGroupedData=function(){var a=this.groupedData;H(a||[],function(e,g){e&&(a[g]=e.destroy?e.destroy():null)});this.groupedData=null};k.generatePoints=function(){d.apply(this);this.destroyGroupedData();this.groupedData=this.hasGroupedData?this.points:null};c(q.prototype,"update",function(e){this.dataGroup?a.error(24):e.apply(this,[].slice.call(arguments,1))});c(b.prototype,"tooltipFooterHeaderFormatter",function(e,f,c){var g=f.series,b=g.tooltipOptions,
m=g.options.dataGrouping,u=b.xDateFormat,B,h=g.xAxis,C=a.dateFormat;return h&&"datetime"===h.options.type&&m&&x(f.key)?(e=g.currentDataGrouping,m=m.dateTimeLabelFormats,e?(h=m[e.unitName],1===e.count?u=h[0]:(u=h[1],B=h[2])):!u&&m&&(u=this.getXDateFormat(f,b,h)),u=C(u,f.key),B&&(u+=C(B,f.key+e.totalRange-1)),w(b[(c?"footer":"header")+"Format"],{point:y(f.point,{key:u}),series:g})):e.call(this,f,c)});k.destroy=function(){for(var a=this.groupedData||[],e=a.length;e--;)a[e]&&a[e].destroy();E.apply(this)};
c(k,"setOptions",function(a,c){a=a.call(this,c);var g=this.type,b=this.chart.options.plotOptions,h=D[g].dataGrouping;f[g]&&(h||(h=n(e,f[g])),a.dataGrouping=n(h,b.series&&b.series.dataGrouping,b[g].dataGrouping,c.dataGrouping));this.chart.options.isStock&&(this.requireSorting=!0);return a});c(z.prototype,"setScale",function(a){a.call(this);H(this.series,function(a){a.hasProcessed=!1})});z.prototype.getGroupPixelWidth=function(){var a=this.series,e=a.length,f,c=0,b=!1,m;for(f=e;f--;)(m=a[f].options.dataGrouping)&&
(c=Math.max(c,m.groupPixelWidth));for(f=e;f--;)(m=a[f].options.dataGrouping)&&a[f].hasProcessed&&(e=(a[f].processedXData||a[f].data).length,a[f].groupPixelWidth||e>this.chart.plotSizeX/c||e&&m.forced)&&(b=!0);return b?c:0};z.prototype.setDataGrouping=function(a,e){var f;e=I(e,!0);a||(a={forced:!1,units:null});if(this instanceof z)for(f=this.series.length;f--;)this.series[f].update({dataGrouping:a},!1);else H(this.chart.options.series,function(e){e.dataGrouping=a},!1);e&&this.chart.redraw()}})(J);
(function(a){var F=a.each,p=a.Point,z=a.seriesType,D=a.seriesTypes;z("ohlc","column",{lineWidth:1,tooltip:{pointFormat:'\x3cspan style\x3d"color:{point.color}"\x3e\u25cf\x3c/span\x3e \x3cb\x3e {series.name}\x3c/b\x3e\x3cbr/\x3eOpen: {point.open}\x3cbr/\x3eHigh: {point.high}\x3cbr/\x3eLow: {point.low}\x3cbr/\x3eClose: {point.close}\x3cbr/\x3e'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0},{directTouch:!1,pointArrayMap:["open","high","low","close"],toYData:function(a){return[a.open,
a.high,a.low,a.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointAttribs:function(a,p){p=D.column.prototype.pointAttribs.call(this,a,p);var y=this.options;delete p.fill;!a.options.color&&y.upColor&&a.open<a.close&&(p.stroke=y.upColor);return p},translate:function(){var a=this,p=a.yAxis,y=!!a.modifyValue,w=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];D.column.prototype.translate.apply(a);F(a.points,function(x){F([x.open,x.high,x.low,x.close,x.low],
function(n,H){null!==n&&(y&&(n=a.modifyValue(n)),x[w[H]]=p.toPixels(n,!0))})})},drawPoints:function(){var a=this,p=a.chart;F(a.points,function(y){var w,x,n,H,q=y.graphic,b,c=!q;void 0!==y.plotY&&(q||(y.graphic=q=p.renderer.path().add(a.group)),q.attr(a.pointAttribs(y,y.selected&&"select")),x=q.strokeWidth()%2/2,b=Math.round(y.plotX)-x,n=Math.round(y.shapeArgs.width/2),H=["M",b,Math.round(y.yBottom),"L",b,Math.round(y.plotY)],null!==y.open&&(w=Math.round(y.plotOpen)+x,H.push("M",b,w,"L",b-n,w)),null!==
y.close&&(w=Math.round(y.plotClose)+x,H.push("M",b,w,"L",b+n,w)),q[c?"attr":"animate"]({d:H}).addClass(y.getClassName(),!0))})},animate:null},{getClassName:function(){return p.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}})})(J);(function(a){var F=a.defaultPlotOptions,p=a.each,z=a.merge,D=a.seriesType,G=a.seriesTypes;D("candlestick","ohlc",z(F.column,{states:{hover:{lineWidth:2}},tooltip:F.ohlc.tooltip,threshold:null,lineColor:"#000000",
lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),{pointAttribs:function(a,p){var w=G.column.prototype.pointAttribs.call(this,a,p),x=this.options,n=a.open<a.close,y=x.lineColor||this.color;w["stroke-width"]=x.lineWidth;w.fill=a.options.color||(n?x.upColor||this.color:this.color);w.stroke=a.lineColor||(n?x.upLineColor||y:y);p&&(a=x.states[p],w.fill=a.color||w.fill,w.stroke=a.lineColor||w.stroke,w["stroke-width"]=a.lineWidth||w["stroke-width"]);return w},drawPoints:function(){var a=this,y=a.chart;p(a.points,
function(p){var x=p.graphic,n,w,q,b,c,k,l,d=!x;void 0!==p.plotY&&(x||(p.graphic=x=y.renderer.path().add(a.group)),x.attr(a.pointAttribs(p,p.selected&&"select")).shadow(a.options.shadow),c=x.strokeWidth()%2/2,k=Math.round(p.plotX)-c,n=p.plotOpen,w=p.plotClose,q=Math.min(n,w),n=Math.max(n,w),l=Math.round(p.shapeArgs.width/2),w=Math.round(q)!==Math.round(p.plotY),b=n!==p.yBottom,q=Math.round(q)+c,n=Math.round(n)+c,c=[],c.push("M",k-l,n,"L",k-l,q,"L",k+l,q,"L",k+l,n,"Z","M",k,q,"L",k,w?Math.round(p.plotY):
q,"M",k,n,"L",k,b?Math.round(p.yBottom):n),x[d?"attr":"animate"]({d:c}).addClass(p.getClassName(),!0))})}})})(J);(function(a){var F=a.addEvent,p=a.each,z=a.merge,D=a.noop,G=a.Renderer,H=a.seriesType,y=a.seriesTypes,w=a.TrackerMixin,x=a.VMLRenderer,n=a.SVGRenderer.prototype.symbols,I=a.stableSort;H("flags","column",{pointRange:0,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}\x3cbr/\x3e"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",
fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}},{sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:a.Series.prototype.init,pointAttribs:function(a,b){var c=this.options,k=a&&a.color||this.color,l=c.lineColor,d=a&&a.lineWidth;a=a&&a.fillColor||c.fillColor;b&&(a=c.states[b].fillColor,l=c.states[b].lineColor,d=c.states[b].lineWidth);return{fill:a||k,stroke:l||k,"stroke-width":d||c.lineWidth||0}},translate:function(){y.column.prototype.translate.apply(this);
var a=this.options,b=this.chart,c=this.points,k=c.length-1,l,d,n=a.onSeries;l=n&&b.get(n);var a=a.onKey||"y",n=l&&l.options.step,e=l&&l.points,f=e&&e.length,r=this.xAxis,v=this.yAxis,g=r.getExtremes(),h=0,C,t,A;if(l&&l.visible&&f)for(h=(l.pointXOffset||0)+(l.barW||0)/2,l=l.currentDataGrouping,t=e[f-1].x+(l?l.totalRange:0),I(c,function(a,e){return a.x-e.x}),a="plot"+a[0].toUpperCase()+a.substr(1);f--&&c[k]&&!(l=c[k],C=e[f],C.x<=l.x&&void 0!==C[a]&&(l.x<=t&&(l.plotY=C[a],C.x<l.x&&!n&&(A=e[f+1])&&void 0!==
A[a]&&(l.plotY+=(l.x-C.x)/(A.x-C.x)*(A[a]-C[a]))),k--,f++,0>k)););p(c,function(a,e){var m;void 0===a.plotY&&(a.x>=g.min&&a.x<=g.max?a.plotY=b.chartHeight-r.bottom-(r.opposite?r.height:0)+r.offset-v.top:a.shapeArgs={});a.plotX+=h;(d=c[e-1])&&d.plotX===a.plotX&&(void 0===d.stackIndex&&(d.stackIndex=0),m=d.stackIndex+1);a.stackIndex=m})},drawPoints:function(){var q=this.points,b=this.chart,c=b.renderer,k,l,d=this.options,n=d.y,e,f,r,v,g,h,C,t=this.yAxis;for(f=q.length;f--;)r=q[f],C=r.plotX>this.xAxis.len,
k=r.plotX,v=r.stackIndex,e=r.options.shape||d.shape,l=r.plotY,void 0!==l&&(l=r.plotY+n-(void 0!==v&&v*d.stackDistance)),g=v?void 0:r.plotX,h=v?void 0:r.plotY,v=r.graphic,void 0!==l&&0<=k&&!C?(v||(v=r.graphic=c.label("",null,null,e,null,null,d.useHTML).attr(this.pointAttribs(r)).css(z(d.style,r.style)).attr({align:"flag"===e?"left":"center",width:d.width,height:d.height,"text-align":d.textAlign}).addClass("highcharts-point").add(this.markerGroup),r.graphic.div&&(r.graphic.div.point=r),v.shadow(d.shadow)),
0<k&&(k-=v.strokeWidth()%2),v.attr({text:r.options.title||d.title||"A",x:k,y:l,anchorX:g,anchorY:h}),r.tooltipPos=b.inverted?[t.len+t.pos-b.plotLeft-l,this.xAxis.len-k]:[k,l+t.pos-b.plotTop]):v&&(r.graphic=v.destroy());d.useHTML&&a.wrap(this.markerGroup,"on",function(e){return a.SVGElement.prototype.on.apply(e.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},drawTracker:function(){var a=this.points;w.drawTrackerPoint.apply(this);p(a,function(b){var c=b.graphic;c&&F(c.element,
"mouseover",function(){0<b.stackIndex&&!b.raised&&(b._y=c.y,c.attr({y:b._y-8}),b.raised=!0);p(a,function(a){a!==b&&a.raised&&a.graphic&&(a.graphic.attr({y:a._y}),a.raised=!1)})})})},animate:D,buildKDTree:D,setClip:D});n.flag=function(a,b,c,k,l){return["M",l&&l.anchorX||a,l&&l.anchorY||b,"L",a,b+k,a,b,a+c,b,a+c,b+k,a,b+k,"Z"]};p(["circle","square"],function(a){n[a+"pin"]=function(b,c,k,l,d){var q=d&&d.anchorX;d=d&&d.anchorY;"circle"===a&&l>k&&(b-=Math.round((l-k)/2),k=l);b=n[a](b,c,k,l);q&&d&&b.push("M",
q,c>d?c:c+l,"L",q,d);return b}});G===x&&p(["flag","circlepin","squarepin"],function(a){x.prototype.symbols[a]=n[a]})})(J);(function(a){function F(a,f,c){this.init(a,f,c)}var p=a.addEvent,z=a.Axis,D=a.correctFloat,G=a.defaultOptions,H=a.defined,y=a.destroyObjectProperties,w=a.doc,x=a.each,n=a.fireEvent,I=a.hasTouch,q=a.isTouchDevice,b=a.merge,c=a.pick,k=a.removeEvent,l=a.wrap,d,E={height:q?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:a.svg&&!q,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:"#cccccc",
barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1};G.scrollbar=b(!0,E,G.scrollbar);a.swapXY=d=function(a,f){var e=a.length,c;if(f)for(f=0;f<e;f+=3)c=a[f+1],a[f+1]=a[f+2],a[f+2]=c;return a};F.prototype={init:function(a,f,d){this.scrollbarButtons=[];this.renderer=a;this.userOptions=f;this.options=b(E,f);this.chart=
d;this.size=c(this.options.size,this.options.height);f.enabled&&(this.render(),this.initEvents(),this.addEvents())},render:function(){var a=this.renderer,f=this.options,c=this.size,b;this.group=b=a.g("scrollbar").attr({zIndex:f.zIndex,translateY:-99999}).add();this.track=a.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:f.trackBorderRadius||0,height:c,width:c}).add(b);this.track.attr({fill:f.trackBackgroundColor,stroke:f.trackBorderColor,"stroke-width":f.trackBorderWidth});this.trackBorderWidth=
this.track.strokeWidth();this.track.attr({y:-this.trackBorderWidth%2/2});this.scrollbarGroup=a.g().add(b);this.scrollbar=a.rect().addClass("highcharts-scrollbar-thumb").attr({height:c,width:c,r:f.barBorderRadius||0}).add(this.scrollbarGroup);this.scrollbarRifles=a.path(d(["M",-3,c/4,"L",-3,2*c/3,"M",0,c/4,"L",0,2*c/3,"M",3,c/4,"L",3,2*c/3],f.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup);this.scrollbar.attr({fill:f.barBackgroundColor,stroke:f.barBorderColor,"stroke-width":f.barBorderWidth});
this.scrollbarRifles.attr({stroke:f.rifleColor,"stroke-width":1});this.scrollbarStrokeWidth=this.scrollbar.strokeWidth();this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2);this.drawScrollbarButton(0);this.drawScrollbarButton(1)},position:function(a,f,c,b){var e=this.options.vertical,h=0,d=this.rendered?"animate":"attr";this.x=a;this.y=f+this.trackBorderWidth;this.width=c;this.xOffset=this.height=b;this.yOffset=h;e?(this.width=this.yOffset=c=h=this.size,this.xOffset=
f=0,this.barWidth=b-2*c,this.x=a+=this.options.margin):(this.height=this.xOffset=b=f=this.size,this.barWidth=c-2*b,this.y+=this.options.margin);this.group[d]({translateX:a,translateY:this.y});this.track[d]({width:c,height:b});this.scrollbarButtons[1][d]({translateX:e?0:c-f,translateY:e?b-h:0})},drawScrollbarButton:function(a){var e=this.renderer,c=this.scrollbarButtons,b=this.options,g=this.size,h;h=e.g().add(this.group);c.push(h);h=e.rect().addClass("highcharts-scrollbar-button").add(h);h.attr({stroke:b.buttonBorderColor,
"stroke-width":b.buttonBorderWidth,fill:b.buttonBackgroundColor});h.attr(h.crisp({x:-.5,y:-.5,width:g+1,height:g+1,r:b.buttonBorderRadius},h.strokeWidth()));h=e.path(d(["M",g/2+(a?-1:1),g/2-3,"L",g/2+(a?-1:1),g/2+3,"L",g/2+(a?2:-2),g/2],b.vertical)).addClass("highcharts-scrollbar-arrow").add(c[a]);h.attr({fill:b.buttonArrowColor})},setRange:function(a,f){var e=this.options,c=e.vertical,b=e.minWidth,h=this.barWidth,d,t,A=this.rendered&&!this.hasDragged?"animate":"attr";H(h)&&(a=Math.max(a,0),d=Math.ceil(h*
a),this.calculatedWidth=t=D(h*Math.min(f,1)-d),t<b&&(d=(h-b+t)*a,t=b),b=Math.floor(d+this.xOffset+this.yOffset),h=t/2-.5,this.from=a,this.to=f,c?(this.scrollbarGroup[A]({translateY:b}),this.scrollbar[A]({height:t}),this.scrollbarRifles[A]({translateY:h}),this.scrollbarTop=b,this.scrollbarLeft=0):(this.scrollbarGroup[A]({translateX:b}),this.scrollbar[A]({width:t}),this.scrollbarRifles[A]({translateX:h}),this.scrollbarLeft=b,this.scrollbarTop=0),12>=t?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),
!1===e.showFull&&(0>=a&&1<=f?this.group.hide():this.group.show()),this.rendered=!0)},initEvents:function(){var a=this;a.mouseMoveHandler=function(c){var f=a.chart.pointer.normalize(c),b=a.options.vertical?"chartY":"chartX",e=a.initPositions;!a.grabbedCenter||c.touches&&0===c.touches[0][b]||(f=a.cursorToScrollbarPosition(f)[b],b=a[b],b=f-b,a.hasDragged=!0,a.updatePosition(e[0]+b,e[1]+b),a.hasDragged&&n(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:c.type,DOMEvent:c}))};a.mouseUpHandler=
function(c){a.hasDragged&&n(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:c.type,DOMEvent:c});a.grabbedCenter=a.hasDragged=a.chartX=a.chartY=null};a.mouseDownHandler=function(c){c=a.chart.pointer.normalize(c);c=a.cursorToScrollbarPosition(c);a.chartX=c.chartX;a.chartY=c.chartY;a.initPositions=[a.from,a.to];a.grabbedCenter=!0};a.buttonToMinClick=function(c){var b=D(a.to-a.from)*a.options.step;a.updatePosition(D(a.from-b),D(a.to-b));n(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",
DOMEvent:c})};a.buttonToMaxClick=function(c){var b=(a.to-a.from)*a.options.step;a.updatePosition(a.from+b,a.to+b);n(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:c})};a.trackClick=function(c){var b=a.chart.pointer.normalize(c),e=a.to-a.from,f=a.y+a.scrollbarTop,h=a.x+a.scrollbarLeft;a.options.vertical&&b.chartY>f||!a.options.vertical&&b.chartX>h?a.updatePosition(a.from+e,a.to+e):a.updatePosition(a.from-e,a.to-e);n(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:c})}},
cursorToScrollbarPosition:function(a){var c=this.options,c=c.minWidth>this.calculatedWidth?c.minWidth:0;return{chartX:(a.chartX-this.x-this.xOffset)/(this.barWidth-c),chartY:(a.chartY-this.y-this.yOffset)/(this.barWidth-c)}},updatePosition:function(a,c){1<c&&(a=D(1-D(c-a)),c=1);0>a&&(c=D(c-a),a=0);this.from=a;this.to=c},update:function(a){this.destroy();this.init(this.chart.renderer,b(!0,this.options,a),this.chart)},addEvents:function(){var a=this.options.inverted?[1,0]:[0,1],c=this.scrollbarButtons,
b=this.scrollbarGroup.element,d=this.mouseDownHandler,g=this.mouseMoveHandler,h=this.mouseUpHandler,a=[[c[a[0]].element,"click",this.buttonToMinClick],[c[a[1]].element,"click",this.buttonToMaxClick],[this.track.element,"click",this.trackClick],[b,"mousedown",d],[w,"mousemove",g],[w,"mouseup",h]];I&&a.push([b,"touchstart",d],[w,"touchmove",g],[w,"touchend",h]);x(a,function(a){p.apply(null,a)});this._events=a},removeEvents:function(){x(this._events,function(a){k.apply(null,a)});this._events=void 0},
destroy:function(){var a=this.chart.scroller;this.removeEvents();x(["track","scrollbarRifles","scrollbar","scrollbarGroup","group"],function(a){this[a]&&this[a].destroy&&(this[a]=this[a].destroy())},this);a&&this===a.scrollbar&&(a.scrollbar=null,y(a.scrollbarButtons))}};l(z.prototype,"init",function(a){var b=this;a.apply(b,Array.prototype.slice.call(arguments,1));b.options.scrollbar&&b.options.scrollbar.enabled&&(b.options.scrollbar.vertical=!b.horiz,b.options.startOnTick=b.options.endOnTick=!1,b.scrollbar=
new F(b.chart.renderer,b.options.scrollbar,b.chart),p(b.scrollbar,"changed",function(a){var e=Math.min(c(b.options.min,b.min),b.min,b.dataMin),g=Math.max(c(b.options.max,b.max),b.max,b.dataMax)-e,h;b.horiz&&!b.reversed||!b.horiz&&b.reversed?(h=e+g*this.to,e+=g*this.from):(h=e+g*(1-this.from),e+=g*(1-this.to));b.setExtremes(e,h,!0,!1,a)}))});l(z.prototype,"render",function(a){var b=Math.min(c(this.options.min,this.min),this.min,this.dataMin),e=Math.max(c(this.options.max,this.max),this.max,this.dataMax),
d=this.scrollbar,g;a.apply(this,Array.prototype.slice.call(arguments,1));if(d){this.horiz?(d.position(this.left,this.top+this.height+2+this.chart.scrollbarsOffsets[1]+(this.opposite?0:this.axisTitleMargin+this.offset),this.width,this.height),g=1):(d.position(this.left+this.width+2+this.chart.scrollbarsOffsets[0]+(this.opposite?this.axisTitleMargin+this.offset:0),this.top,this.width,this.height),g=0);if(!this.opposite&&!this.horiz||this.opposite&&this.horiz)this.chart.scrollbarsOffsets[g]+=this.scrollbar.size+
this.scrollbar.options.margin;isNaN(b)||isNaN(e)||!H(this.min)||!H(this.max)?d.setRange(0,0):(g=(this.min-b)/(e-b),b=(this.max-b)/(e-b),this.horiz&&!this.reversed||!this.horiz&&this.reversed?d.setRange(g,b):d.setRange(1-b,1-g))}});l(z.prototype,"getOffset",function(a){var b=this.horiz?2:1,c=this.scrollbar;a.apply(this,Array.prototype.slice.call(arguments,1));c&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[b]+=c.size+c.options.margin)});l(z.prototype,"destroy",function(a){this.scrollbar&&
(this.scrollbar=this.scrollbar.destroy());a.apply(this,Array.prototype.slice.call(arguments,1))});a.Scrollbar=F})(J);(function(a){function F(a){this.init(a)}var p=a.addEvent,z=a.Axis,D=a.Chart,G=a.color,H=a.defaultOptions,y=a.defined,w=a.destroyObjectProperties,x=a.doc,n=a.each,I=a.erase,q=a.error,b=a.extend,c=a.grep,k=a.hasTouch,l=a.isNumber,d=a.isObject,E=a.merge,e=a.pick,f=a.removeEvent,r=a.Scrollbar,v=a.Series,g=a.seriesTypes,h=a.wrap,C=a.swapXY,t=[].concat(a.defaultDataGroupingUnits),A=function(a){var m=
c(arguments,l);if(m.length)return Math[a].apply(0,m)};t[4]=["day",[1,2,3,4]];t[5]=["week",[1,2,3]];g=void 0===g.areaspline?"line":"areaspline";b(H,{navigator:{height:40,margin:25,maskInside:!0,handles:{backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:G("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:g,color:"#335cad",fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:t},dataLabels:{enabled:!1,
zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,
title:{text:null},tickLength:0,tickWidth:0}}});F.prototype={drawHandle:function(a,b,c,e){this.handles[b][e](c?{translateX:Math.round(this.left+this.height/2-8),translateY:Math.round(this.top+parseInt(a,10)+.5)}:{translateX:Math.round(this.left+parseInt(a,10)),translateY:Math.round(this.top+this.height/2-8)})},getHandlePath:function(a){return C(["M",-4.5,.5,"L",3.5,.5,"L",3.5,15.5,"L",-4.5,15.5,"L",-4.5,.5,"M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12],a)},drawOutline:function(a,b,c,e){var m=this.navigatorOptions.maskInside,
u=this.outline.strokeWidth(),B=u/2,u=u%2/2,g=this.outlineHeight,h=this.scrollbarHeight,t=this.size,d=this.left-h,f=this.top;c?(d-=B,c=f+b+u,b=f+a+u,a=["M",d+g,f-h-u,"L",d+g,c,"L",d,c,"L",d,b,"L",d+g,b,"L",d+g,f+t+h].concat(m?["M",d+g,c-B,"L",d+g,b+B]:[])):(a+=d+h-u,b+=d+h-u,f+=B,a=["M",d,f,"L",a,f,"L",a,f+g,"L",b,f+g,"L",b,f,"L",d+t+2*h,f].concat(m?["M",a-B,f,"L",b+B,f]:[]));this.outline[e]({d:a})},drawMasks:function(a,b,c,e){var m=this.left,u=this.top,B=this.height,g,d,h,t;c?(h=[m,m,m],t=[u,u+a,
u+b],d=[B,B,B],g=[a,b-a,this.size-b]):(h=[m,m+a,m+b],t=[u,u,u],d=[a,b-a,this.size-b],g=[B,B,B]);n(this.shades,function(a,b){a[e]({x:h[b],y:t[b],width:d[b],height:g[b]})})},renderElements:function(){var a=this,b=a.navigatorOptions,c=b.maskInside,e=a.chart,g=e.inverted,d=e.renderer,h;a.navigatorGroup=h=d.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();var t={cursor:g?"ns-resize":"ew-resize"};n([!c,c,!c],function(m,c){a.shades[c]=d.rect().addClass("highcharts-navigator-mask"+(1===c?"-inside":
"-outside")).attr({fill:m?b.maskFill:"transparent"}).css(1===c&&t).add(h)});a.outline=d.path().addClass("highcharts-navigator-outline").attr({"stroke-width":b.outlineWidth,stroke:b.outlineColor}).add(h);n([0,1],function(m){a.handles[m]=d.path(a.getHandlePath(g)).attr({zIndex:7-m}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][m]).add(h);var c=b.handles;a.handles[m].attr({fill:c.backgroundColor,stroke:c.borderColor,"stroke-width":1}).css(t)})},update:function(a){this.destroy();
E(!0,this.chart.options.navigator,this.options,a);this.init(this.chart)},render:function(a,b,c,g){var m=this.chart,u,d,h=this.scrollbarHeight,B,t=this.xAxis;u=this.navigatorEnabled;var f,A=this.rendered;d=m.inverted;var k=m.xAxis[0].minRange;if(!this.hasDragged||y(c)){if(!l(a)||!l(b))if(A)c=0,g=t.width;else return;this.left=e(t.left,m.plotLeft+h+(d?m.plotWidth:0));this.size=f=B=e(t.len,(d?m.plotHeight:m.plotWidth)-2*h);m=d?h:B+2*h;c=e(c,t.toPixels(a,!0));g=e(g,t.toPixels(b,!0));l(c)&&Infinity!==Math.abs(c)||
(c=0,g=m);a=t.toValue(c,!0);b=t.toValue(g,!0);if(Math.abs(b-a)<k)if(this.grabbedLeft)c=t.toPixels(b-k,!0);else if(this.grabbedRight)g=t.toPixels(a+k,!0);else return;this.zoomedMax=Math.min(Math.max(c,g,0),f);this.zoomedMin=Math.min(Math.max(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(c,g),0),f);this.range=this.zoomedMax-this.zoomedMin;f=Math.round(this.zoomedMax);c=Math.round(this.zoomedMin);u&&(this.navigatorGroup.attr({visibility:"visible"}),A=A&&!this.hasDragged?"animate":"attr",this.drawMasks(c,
f,d,A),this.drawOutline(c,f,d,A),this.drawHandle(c,0,d,A),this.drawHandle(f,1,d,A));this.scrollbar&&(d?(d=this.top-h,u=this.left-h+(u?0:this.height),h=B+2*h):(d=this.top+(u?this.height:-h),u=this.left-h),this.scrollbar.position(u,d,m,h),this.scrollbar.setRange(this.zoomedMin/B,this.zoomedMax/B));this.rendered=!0}},addMouseEvents:function(){var a=this,b=a.chart,c=b.container,e=[],g,d;a.mouseMoveHandler=g=function(b){a.onMouseMove(b)};a.mouseUpHandler=d=function(b){a.onMouseUp(b)};e=a.getPartsEvents("mousedown");
e.push(p(c,"mousemove",g),p(x,"mouseup",d));k&&(e.push(p(c,"touchmove",g),p(x,"touchend",d)),e.concat(a.getPartsEvents("touchstart")));a.eventsToUnbind=e;a.series&&a.series[0]&&e.push(p(a.series[0].xAxis,"foundExtremes",function(){b.navigator.modifyNavigatorAxisExtremes()}))},getPartsEvents:function(a){var b=this,c=[];n(["shades","handles"],function(m){n(b[m],function(u,e){c.push(p(u.element,a,function(a){b[m+"Mousedown"](a,e)}))})});return c},shadesMousedown:function(a,b){a=this.chart.pointer.normalize(a);
var c=this.chart,m=this.xAxis,u=this.zoomedMin,e=this.left,g=this.size,d=this.range,h=a.chartX,t;c.inverted&&(h=a.chartY,e=this.top);1===b?(this.grabbedCenter=h,this.fixedWidth=d,this.dragOffset=h-u):(a=h-e-d/2,0===b?a=Math.max(0,a):2===b&&a+d>=g&&(a=g-d,t=this.getUnionExtremes().dataMax),a!==u&&(this.fixedWidth=d,b=m.toFixedRange(a,a+d,null,t),c.xAxis[0].setExtremes(Math.min(b.min,b.max),Math.max(b.min,b.max),!0,null,{trigger:"navigator"})))},handlesMousedown:function(a,b){this.chart.pointer.normalize(a);
a=this.chart;var c=a.xAxis[0],m=a.inverted&&!c.reversed||!a.inverted&&c.reversed;0===b?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=m?c.min:c.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=m?c.max:c.min);a.fixedRange=null},onMouseMove:function(a){var b=this,c=b.chart,m=b.left,e=b.navigatorSize,g=b.range,d=b.dragOffset,h=c.inverted;a.touches&&0===a.touches[0].pageX||(a=c.pointer.normalize(a),c=a.chartX,h&&(m=b.top,c=a.chartY),b.grabbedLeft?
(b.hasDragged=!0,b.render(0,0,c-m,b.otherHandlePos)):b.grabbedRight?(b.hasDragged=!0,b.render(0,0,b.otherHandlePos,c-m)):b.grabbedCenter&&(b.hasDragged=!0,c<d?c=d:c>e+d-g&&(c=e+d-g),b.render(0,0,c-d,c-d+g)),b.hasDragged&&b.scrollbar&&b.scrollbar.options.liveRedraw&&(a.DOMType=a.type,setTimeout(function(){b.onMouseUp(a)},0)))},onMouseUp:function(a){var b=this.chart,c=this.xAxis,m=this.scrollbar,e,g,d=a.DOMEvent||a;(!this.hasDragged||m&&m.hasDragged)&&"scrollbar"!==a.trigger||(this.zoomedMin===this.otherHandlePos?
e=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(g=this.fixedExtreme),this.zoomedMax===this.size&&(g=this.getUnionExtremes().dataMax),c=c.toFixedRange(this.zoomedMin,this.zoomedMax,e,g),y(c.min)&&b.xAxis[0].setExtremes(Math.min(c.min,c.max),Math.max(c.min,c.max),!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:d}));"mousemove"!==a.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=
this.dragOffset=null)},removeEvents:function(){this.eventsToUnbind&&(n(this.eventsToUnbind,function(a){a()}),this.eventsToUnbind=void 0);this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){var a=this.baseSeries||[];this.navigatorEnabled&&a[0]&&!1!==this.navigatorOptions.adaptToUpdatedData&&(n(a,function(a){f(a,"updatedData",this.updatedDataHandler)},this),a[0].xAxis&&f(a[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(a){var b=a.options,c=b.navigator,m=c.enabled,
g=b.scrollbar,d=g.enabled,b=m?c.height:0,t=d?g.height:0;this.handles=[];this.shades=[];this.chart=a;this.setBaseSeries();this.height=b;this.scrollbarHeight=t;this.scrollbarEnabled=d;this.navigatorEnabled=m;this.navigatorOptions=c;this.scrollbarOptions=g;this.outlineHeight=b+t;this.opposite=e(c.opposite,!m&&a.inverted);var f=this,g=f.baseSeries,d=a.xAxis.length,k=a.yAxis.length,C=g&&g[0]&&g[0].xAxis||a.xAxis[0];a.extraMargin={type:f.opposite?"plotTop":"marginBottom",value:(m||!a.inverted?f.outlineHeight:
0)+c.margin};a.inverted&&(a.extraMargin.type=f.opposite?"marginRight":"plotLeft");a.isDirtyBox=!0;f.navigatorEnabled?(f.xAxis=new z(a,E({breaks:C.options.breaks,ordinal:C.options.ordinal},c.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:d,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},a.inverted?{offsets:[t,0,-t,0],width:b}:{offsets:[0,-t,0,t],height:b})),f.yAxis=new z(a,E(c.yAxis,{id:"navigator-y-axis",alignTicks:!1,
offset:0,index:k,zoomEnabled:!1},a.inverted?{width:b}:{height:b})),g||c.series.data?f.addBaseSeries():0===a.series.length&&h(a,"redraw",function(b,c){0<a.series.length&&!f.series&&(f.setBaseSeries(),a.redraw=b);b.call(a,c)}),f.renderElements(),f.addMouseEvents()):f.xAxis={translate:function(b,c){var m=a.xAxis[0],g=m.getExtremes(),e=m.len-2*t,d=A("min",m.options.min,g.dataMin),m=A("max",m.options.max,g.dataMax)-d;return c?b*m/e+d:e*(b-d)/m},toPixels:function(a){return this.translate(a)},toValue:function(a){return this.translate(a,
!0)},toFixedRange:z.prototype.toFixedRange,fake:!0};a.options.scrollbar.enabled&&(a.scrollbar=f.scrollbar=new r(a.renderer,E(a.options.scrollbar,{margin:f.navigatorEnabled?0:10,vertical:a.inverted}),a),p(f.scrollbar,"changed",function(b){var c=f.size,m=c*this.to,c=c*this.from;f.hasDragged=f.scrollbar.hasDragged;f.render(0,0,c,m);(a.options.scrollbar.liveRedraw||"mousemove"!==b.DOMType)&&setTimeout(function(){f.onMouseUp(b)})}));f.addBaseSeriesEvents();f.addChartEvents()},getUnionExtremes:function(a){var b=
this.chart.xAxis[0],c=this.xAxis,m=c.options,g=b.options,d;a&&null===b.dataMin||(d={dataMin:e(m&&m.min,A("min",g.min,b.dataMin,c.dataMin,c.min)),dataMax:e(m&&m.max,A("max",g.max,b.dataMax,c.dataMax,c.max))});return d},setBaseSeries:function(a){var b=this.chart,c;a=a||b.options&&b.options.navigator.baseSeries||0;this.series&&(this.removeBaseSeriesEvents(),n(this.series,function(a){a.destroy()}));c=this.baseSeries=[];n(b.series||[],function(b,m){(b.options.showInNavigator||(m===a||b.options.id===a)&&
!1!==b.options.showInNavigator)&&c.push(b)});this.xAxis&&!this.xAxis.fake&&this.addBaseSeries()},addBaseSeries:function(){var a=this,b=a.chart,c=a.series=[],g=a.baseSeries,d,e,h=a.navigatorOptions.series,f,t={enableMouseTracking:!1,index:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:!1,isInternal:!0,visible:!0};g?n(g,function(g,m){t.name="Navigator "+(m+1);d=g.options||{};f=d.navigatorOptions||{};e=E(d,t,h,f);m=f.data||h.data;a.hasNavigatorData=
a.hasNavigatorData||!!m;e.data=m||d.data&&d.data.slice(0);g.navigatorSeries=b.initSeries(e);c.push(g.navigatorSeries)}):(e=E(h,t),e.data=h.data,a.hasNavigatorData=!!e.data,c.push(b.initSeries(e)));this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var a=this,b=a.baseSeries||[];b[0]&&b[0].xAxis&&p(b[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes);!1!==this.navigatorOptions.adaptToUpdatedData&&n(b,function(b){b.xAxis&&p(b,"updatedData",this.updatedDataHandler);p(b,"remove",function(){this.navigatorSeries&&
(I(a.series,this.navigatorSeries),this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},modifyNavigatorAxisExtremes:function(){var a=this.xAxis,b;a.getExtremes&&(!(b=this.getUnionExtremes(!0))||b.dataMin===a.min&&b.dataMax===a.max||(a.min=b.dataMin,a.max=b.dataMax))},modifyBaseAxisExtremes:function(){var a=this.chart.navigator,b=this.getExtremes(),c=b.dataMin,g=b.dataMax,b=b.max-b.min,d=a.stickToMin,e=a.stickToMax,h,f,t=a.series&&a.series[0],A=!!this.setExtremes;this.eventArgs&&"rangeSelectorButton"===
this.eventArgs.trigger||(d&&(f=c,h=f+b),e&&(h=g,d||(f=Math.max(h-b,t&&t.xData?t.xData[0]:-Number.MAX_VALUE))),A&&(d||e)&&l(f)&&(this.min=this.userMin=f,this.max=this.userMax=h));a.stickToMin=a.stickToMax=null},updatedDataHandler:function(){var a=this.chart.navigator,b=this.navigatorSeries;a.stickToMin=l(this.xAxis.min)&&this.xAxis.min<=this.xData[0];a.stickToMax=Math.round(a.zoomedMax)>=Math.round(a.size);b&&!a.hasNavigatorData&&(b.options.pointStart=this.xData[0],b.setData(this.options.data,!1,null,
!1))},addChartEvents:function(){p(this.chart,"redraw",function(){var a=this.navigator,b=a&&(a.baseSeries&&a.baseSeries[0]&&a.baseSeries[0].xAxis||a.scrollbar&&this.xAxis[0]);b&&a.render(b.min,b.max)})},destroy:function(){this.removeEvents();this.xAxis&&(I(this.chart.xAxis,this.xAxis),I(this.chart.axes,this.xAxis));this.yAxis&&(I(this.chart.yAxis,this.yAxis),I(this.chart.axes,this.yAxis));n(this.series||[],function(a){a.destroy&&a.destroy()});n("series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" "),
function(a){this[a]&&this[a].destroy&&this[a].destroy();this[a]=null},this);n([this.handles],function(a){w(a)},this)}};a.Navigator=F;h(z.prototype,"zoom",function(a,b,c){var g=this.chart,d=g.options,e=d.chart.zoomType,h=d.navigator,d=d.rangeSelector,f;this.isXAxis&&(h&&h.enabled||d&&d.enabled)&&("x"===e?g.resetZoomButton="blocked":"y"===e?f=!1:"xy"===e&&(g=this.previousZoom,y(b)?this.previousZoom=[this.min,this.max]:g&&(b=g[0],c=g[1],delete this.previousZoom)));return void 0!==f?f:a.call(this,b,c)});
h(D.prototype,"init",function(a,b,c){p(this,"beforeRender",function(){var a=this.options;if(a.navigator.enabled||a.scrollbar.enabled)this.scroller=this.navigator=new F(this)});a.call(this,b,c)});h(D.prototype,"setChartSize",function(a){var b=this.legend,c=this.navigator,g,d,h,f;a.apply(this,[].slice.call(arguments,1));c&&(d=b.options,h=c.xAxis,f=c.yAxis,g=c.scrollbarHeight,this.inverted?(c.left=c.opposite?this.chartWidth-g-c.height:this.spacing[3]+g,c.top=this.plotTop+g):(c.left=this.plotLeft+g,c.top=
c.navigatorOptions.top||this.chartHeight-c.height-g-this.spacing[2]-("bottom"===d.verticalAlign&&d.enabled&&!d.floating?b.legendHeight+e(d.margin,10):0)),h&&f&&(this.inverted?h.options.left=f.options.left=c.left:h.options.top=f.options.top=c.top,h.setAxisSize(),f.setAxisSize()))});h(v.prototype,"addPoint",function(a,b,c,g,e){var h=this.options.turboThreshold;h&&this.xData.length>h&&d(b,!0)&&this.chart.navigator&&q(20,!0);a.call(this,b,c,g,e)});h(D.prototype,"addSeries",function(a,b,c,g){a=a.call(this,
b,!1,g);this.navigator&&this.navigator.setBaseSeries();e(c,!0)&&this.redraw();return a});h(v.prototype,"update",function(a,b,c){a.call(this,b,!1);this.chart.navigator&&this.chart.navigator.setBaseSeries();e(c,!0)&&this.chart.redraw()});D.prototype.callbacks.push(function(a){var b=a.navigator;b&&(a=a.xAxis[0].getExtremes(),b.render(a.min,a.max))})})(J);(function(a){function F(a){this.init(a)}var p=a.addEvent,z=a.Axis,D=a.Chart,G=a.css,H=a.createElement,y=a.dateFormat,w=a.defaultOptions,x=w.global.useUTC,
n=a.defined,I=a.destroyObjectProperties,q=a.discardElement,b=a.each,c=a.extend,k=a.fireEvent,l=a.Date,d=a.isNumber,E=a.merge,e=a.pick,f=a.pInt,r=a.splat,v=a.wrap;c(w,{rangeSelector:{buttonTheme:{"stroke-width":0,width:28,height:18,padding:2,zIndex:7},height:35,inputPosition:{align:"right"},labelStyle:{color:"#666666"}}});w.lang=E(w.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"});F.prototype={clickButton:function(a,c){var g=this,h=g.chart,f=g.buttonOptions[a],m=h.xAxis[0],
u=h.scroller&&h.scroller.getUnionExtremes()||m||{},k=u.dataMin,l=u.dataMax,q,n=m&&Math.round(Math.min(m.max,e(l,m.max))),w=f.type,v,u=f._range,M,y,N,D=f.dataGrouping;if(null!==k&&null!==l){h.fixedRange=u;D&&(this.forcedDataGrouping=!0,z.prototype.setDataGrouping.call(m||{chart:this.chart},D,!1));if("month"===w||"year"===w)m?(w={range:f,max:n,dataMin:k,dataMax:l},q=m.minFromRange.call(w),d(w.newMax)&&(n=w.newMax)):u=f;else if(u)q=Math.max(n-u,k),n=Math.min(q+u,l);else if("ytd"===w)if(m)void 0===l&&
(k=Number.MAX_VALUE,l=Number.MIN_VALUE,b(h.series,function(a){a=a.xData;k=Math.min(a[0],k);l=Math.max(a[a.length-1],l)}),c=!1),n=g.getYTDExtremes(l,k,x),q=M=n.min,n=n.max;else{p(h,"beforeRender",function(){g.clickButton(a)});return}else"all"===w&&m&&(q=k,n=l);g.setSelected(a);m?m.setExtremes(q,n,e(c,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:f}):(v=r(h.options.xAxis)[0],N=v.range,v.range=u,y=v.min,v.min=M,p(h,"load",function(){v.range=N;v.min=y}))}},setSelected:function(a){this.selected=
this.options.selected=a},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(a){var c=this,d=a.options.rangeSelector,g=d.buttons||[].concat(c.defaultButtons),e=d.selected,f=function(){var a=c.minInput,b=c.maxInput;a&&a.blur&&k(a,"blur");b&&b.blur&&k(b,"blur")};c.chart=a;c.options=d;c.buttons=[];a.extraTopMargin=d.height;c.buttonOptions=g;this.unMouseDown=
p(a.container,"mousedown",f);this.unResize=p(a,"resize",f);b(g,c.computeButtonRange);void 0!==e&&g[e]&&this.clickButton(e,!1);p(a,"load",function(){p(a.xAxis[0],"setExtremes",function(b){this.max-this.min!==a.fixedRange&&"rangeSelectorButton"!==b.trigger&&"updatedData"!==b.trigger&&c.forcedDataGrouping&&this.setDataGrouping(!1,!1)})})},updateButtonStates:function(){var a=this.chart,c=a.xAxis[0],e=Math.round(c.max-c.min),f=!c.hasVisibleSeries,a=a.scroller&&a.scroller.getUnionExtremes()||c,k=a.dataMin,
m=a.dataMax,a=this.getYTDExtremes(m,k,x),l=a.min,q=a.max,n=this.selected,p=d(n),r=this.options.allButtonsEnabled,w=this.buttons;b(this.buttonOptions,function(a,b){var d=a._range,g=a.type,h=a.count||1;a=w[b];var t=0;b=b===n;var A=d>m-k,u=d<c.minRange,C=!1,B=!1,d=d===e;("month"===g||"year"===g)&&e>=864E5*{month:28,year:365}[g]*h&&e<=864E5*{month:31,year:366}[g]*h?d=!0:"ytd"===g?(d=q-l===e,C=!b):"all"===g&&(d=c.max-c.min>=m-k,B=!b&&p&&d);g=!r&&(A||u||B||f);d=b&&d||d&&!p&&!C;g?t=3:d&&(p=!0,t=2);a.state!==
t&&a.setState(t)})},computeButtonRange:function(a){var b=a.type,c=a.count||1,d={millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5};if(d[b])a._range=d[b]*c;else if("month"===b||"year"===b)a._range=864E5*{month:30,year:365}[b]*c},setInputValue:function(a,b){var c=this.chart.options.rangeSelector,d=this[a+"Input"];n(b)&&(d.previousValue=d.HCTime,d.HCTime=b);d.value=y(c.inputEditDateFormat||"%Y-%m-%d",d.HCTime);this[a+"DateBox"].attr({text:y(c.inputDateFormat||"%b %e, %Y",d.HCTime)})},
showInput:function(a){var b=this.inputGroup,c=this[a+"DateBox"];G(this[a+"Input"],{left:b.translateX+c.x+"px",top:b.translateY+"px",width:c.width-2+"px",height:c.height-2+"px",border:"2px solid silver"})},hideInput:function(a){G(this[a+"Input"],{border:0,width:"1px",height:"1px"});this.setInputValue(a)},drawInput:function(a){function b(){var a=p.value,b=(l.inputDateParser||Date.parse)(a),c=g.xAxis[0],h=g.scroller&&g.scroller.xAxis?g.scroller.xAxis:c,m=h.dataMin,h=h.dataMax;b!==p.previousValue&&(p.previousValue=
b,d(b)||(b=a.split("-"),b=Date.UTC(f(b[0]),f(b[1])-1,f(b[2]))),d(b)&&(x||(b+=6E4*(new Date).getTimezoneOffset()),n?b>e.maxInput.HCTime?b=void 0:b<m&&(b=m):b<e.minInput.HCTime?b=void 0:b>h&&(b=h),void 0!==b&&c.setExtremes(n?b:c.min,n?c.max:b,void 0,void 0,{trigger:"rangeSelectorInput"})))}var e=this,g=e.chart,k=g.renderer.style||{},m=g.renderer,l=g.options.rangeSelector,q=e.div,n="min"===a,p,r,v=this.inputGroup;this[a+"Label"]=r=m.label(w.lang[n?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(v);
v.offset+=r.width+5;this[a+"DateBox"]=m=m.label("",v.offset).addClass("highcharts-range-input").attr({padding:2,width:l.inputBoxWidth||90,height:l.inputBoxHeight||17,stroke:l.inputBoxBorderColor||"#cccccc","stroke-width":1,"text-align":"center"}).on("click",function(){e.showInput(a);e[a+"Input"].focus()}).add(v);v.offset+=m.width+(n?10:0);this[a+"Input"]=p=H("input",{name:a,className:"highcharts-range-selector",type:"text"},{top:g.plotTop+"px"},q);r.css(E(k,l.labelStyle));m.css(E({color:"#333333"},
k,l.inputStyle));G(p,c({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:k.fontSize,fontFamily:k.fontFamily,left:"-9em"},l.inputStyle));p.onfocus=function(){e.showInput(a)};p.onblur=function(){e.hideInput(a)};p.onchange=b;p.onkeypress=function(a){13===a.keyCode&&b()}},getPosition:function(){var a=this.chart,b=a.options.rangeSelector,a=e((b.buttonPosition||{}).y,a.plotTop-a.axisOffset[0]-b.height);return{buttonTop:a,inputTop:a-10}},getYTDExtremes:function(a,
b,c){var d=new l(a),e=d[l.hcGetFullYear]();c=c?l.UTC(e,0,1):+new l(e,0,1);b=Math.max(b||0,c);d=d.getTime();return{max:Math.min(a||d,d),min:b}},render:function(a,d){var f=this,g=f.chart,h=g.renderer,m=g.container,k=g.options,l=k.exporting&&!1!==k.exporting.enabled&&k.navigation&&k.navigation.buttonOptions,q=k.rangeSelector,p=f.buttons,k=w.lang,r=f.div,r=f.inputGroup,v=q.buttonTheme,x=q.buttonPosition||{},y=q.inputEnabled,z=v&&v.states,D=g.plotLeft,E,F=this.getPosition(),G=f.group,I=f.rendered;!1!==
q.enabled&&(I||(f.group=G=h.g("range-selector-buttons").add(),f.zoomText=h.text(k.rangeSelectorZoom,e(x.x,D),15).css(q.labelStyle).add(G),E=e(x.x,D)+f.zoomText.getBBox().width+5,b(f.buttonOptions,function(a,b){p[b]=h.button(a.text,E,0,function(){f.clickButton(b);f.isActive=!0},v,z&&z.hover,z&&z.select,z&&z.disabled).attr({"text-align":"center"}).add(G);E+=p[b].width+e(q.buttonSpacing,5)}),!1!==y&&(f.div=r=H("div",null,{position:"relative",height:0,zIndex:1}),m.parentNode.insertBefore(r,m),f.inputGroup=
r=h.g("input-group").add(),r.offset=0,f.drawInput("min"),f.drawInput("max"))),f.updateButtonStates(),G[I?"animate":"attr"]({translateY:F.buttonTop}),!1!==y&&(r.align(c({y:F.inputTop,width:r.offset,x:l&&F.inputTop<(l.y||0)+l.height-g.spacing[0]?-40:0},q.inputPosition),!0,g.spacingBox),n(y)||(g=G.getBBox(),r[r.alignAttr.translateX<g.x+g.width+10?"hide":"show"]()),f.setInputValue("min",a),f.setInputValue("max",d)),f.rendered=!0)},update:function(a){var b=this.chart;E(!0,b.options.rangeSelector,a);this.destroy();
this.init(b)},destroy:function(){var a=this.minInput,b=this.maxInput,c;this.unMouseDown();this.unResize();I(this.buttons);a&&(a.onfocus=a.onblur=a.onchange=null);b&&(b.onfocus=b.onblur=b.onchange=null);for(c in this)this[c]&&"chart"!==c&&(this[c].destroy?this[c].destroy():this[c].nodeType&&q(this[c])),this[c]!==F.prototype[c]&&(this[c]=null)}};z.prototype.toFixedRange=function(a,b,c,f){var g=this.chart&&this.chart.fixedRange;a=e(c,this.translate(a,!0,!this.horiz));b=e(f,this.translate(b,!0,!this.horiz));
c=g&&(b-a)/g;.7<c&&1.3>c&&(f?a=b-g:b=a+g);d(a)||(a=b=void 0);return{min:a,max:b}};z.prototype.minFromRange=function(){var a=this.range,b={month:"Month",year:"FullYear"}[a.type],c,f=this.max,k,m,l=function(a,c){var d=new Date(a);d["set"+b](d["get"+b]()+c);return d.getTime()-a};d(a)?(c=f-a,m=a):(c=f+l(f,-a.count),this.chart&&(this.chart.fixedRange=f-c));k=e(this.dataMin,Number.MIN_VALUE);d(c)||(c=k);c<=k&&(c=k,void 0===m&&(m=l(c,a.count)),this.newMax=Math.min(c+m,this.dataMax));d(f)||(c=void 0);return c};
v(D.prototype,"init",function(a,b,c){p(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new F(this))});a.call(this,b,c)});D.prototype.callbacks.push(function(a){function b(){c=a.xAxis[0].getExtremes();d(c.min)&&e.render(c.min,c.max)}var c,e=a.rangeSelector,f,g;e&&(g=p(a.xAxis[0],"afterSetExtremes",function(a){e.render(a.min,a.max)}),f=p(a,"redraw",b),b());p(a,"destroy",function(){e&&(f(),g())})});a.RangeSelector=F})(J);(function(a){var F=a.arrayMax,p=a.arrayMin,z=a.Axis,
D=a.Chart,G=a.defined,H=a.each,y=a.extend,w=a.format,x=a.inArray,n=a.isNumber,I=a.isString,q=a.map,b=a.merge,c=a.pick,k=a.Point,l=a.Renderer,d=a.Series,E=a.splat,e=a.SVGRenderer,f=a.VMLRenderer,r=a.wrap,v=d.prototype,g=v.init,h=v.processData,C=k.prototype.tooltipFormatter;a.StockChart=a.stockChart=function(d,e,f){var g=I(d)||d.nodeName,h=arguments[g?1:0],m=h.series,k=a.getOptions(),l,t=c(h.navigator&&h.navigator.enabled,k.navigator.enabled,!0),A=t?{startOnTick:!1,endOnTick:!1}:null,n={marker:{enabled:!1,
radius:2}},p={shadow:!1,borderWidth:0};h.xAxis=q(E(h.xAxis||{}),function(a){return b({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},k.xAxis,a,{type:"datetime",categories:null},A)});h.yAxis=q(E(h.yAxis||{}),function(a){l=c(a.opposite,!0);return b({labels:{y:-2},opposite:l,showLastLabel:!1,title:{text:null}},k.yAxis,a)});h.series=null;h=b({chart:{panning:!0,pinchType:"x"},navigator:{enabled:t},scrollbar:{enabled:c(k.scrollbar.enabled,!0)},rangeSelector:{enabled:c(k.rangeSelector.enabled,
!0)},title:{text:null},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:n,spline:n,area:n,areaspline:n,arearange:n,areasplinerange:n,column:p,columnrange:p,candlestick:p,ohlc:p}},h,{isStock:!0});h.series=m;return g?new D(d,h,f):new D(h,e)};r(z.prototype,"autoLabelAlign",function(a){var b=this.chart,c=this.options,b=b._labelPanes=b._labelPanes||{},d=this.options.labels;return this.chart.options.isStock&&"yAxis"===this.coll&&(c=c.top+","+c.height,!b[c]&&d.enabled)?(15===d.x&&
(d.x=0),void 0===d.align&&(d.align="right"),b[c]=this,"right"):a.call(this,[].slice.call(arguments,1))});r(z.prototype,"destroy",function(a){var b=this.chart,c=this.options&&this.options.top+","+this.options.height;c&&b._labelPanes&&b._labelPanes[c]===this&&delete b._labelPanes[c];return a.call(this,Array.prototype.slice.call(arguments,1))});r(z.prototype,"getPlotLinePath",function(a,b,d,e,f,g){var h=this,k=this.isLinked&&!this.series?this.linkedParent.series:this.series,m=h.chart,l=m.renderer,t=
h.left,p=h.top,u,r,A,v,w=[],B=[],y,z;if("colorAxis"===h.coll)return a.apply(this,[].slice.call(arguments,1));B=function(a){var b="xAxis"===a?"yAxis":"xAxis";a=h.options[b];return n(a)?[m[b][a]]:I(a)?[m.get(a)]:q(k,function(a){return a[b]})}(h.coll);H(h.isXAxis?m.yAxis:m.xAxis,function(a){if(G(a.options.id)?-1===a.options.id.indexOf("navigator"):1){var b=a.isXAxis?"yAxis":"xAxis",b=G(a.options[b])?m[b][a.options[b]]:m[b][0];h===b&&B.push(a)}});y=B.length?[]:[h.isXAxis?m.yAxis[0]:m.xAxis[0]];H(B,function(a){-1===
x(a,y)&&y.push(a)});z=c(g,h.translate(b,null,null,e));n(z)&&(h.horiz?H(y,function(a){var b;r=a.pos;v=r+a.len;u=A=Math.round(z+h.transB);if(u<t||u>t+h.width)f?u=A=Math.min(Math.max(t,u),t+h.width):b=!0;b||w.push("M",u,r,"L",A,v)}):H(y,function(a){var b;u=a.pos;A=u+a.len;r=v=Math.round(p+h.height-z);if(r<p||r>p+h.height)f?r=v=Math.min(Math.max(p,r),h.top+h.height):b=!0;b||w.push("M",u,r,"L",A,v)}));return 0<w.length?l.crispPolyLine(w,d||1):null});z.prototype.getPlotBandPath=function(a,b){b=this.getPlotLinePath(b,
null,null,!0);a=this.getPlotLinePath(a,null,null,!0);var c=[],d;if(a&&b)if(a.toString()===b.toString())c=a,c.flat=!0;else for(d=0;d<a.length;d+=6)c.push("M",a[d+1],a[d+2],"L",a[d+4],a[d+5],b[d+4],b[d+5],b[d+1],b[d+2],"z");else c=null;return c};e.prototype.crispPolyLine=function(a,b){var c;for(c=0;c<a.length;c+=6)a[c+1]===a[c+4]&&(a[c+1]=a[c+4]=Math.round(a[c+1])-b%2/2),a[c+2]===a[c+5]&&(a[c+2]=a[c+5]=Math.round(a[c+2])+b%2/2);return a};l===f&&(f.prototype.crispPolyLine=e.prototype.crispPolyLine);
r(z.prototype,"hideCrosshair",function(a,b){a.call(this,b);this.crossLabel&&(this.crossLabel=this.crossLabel.hide())});r(z.prototype,"drawCrosshair",function(a,b,d){var e,f;a.call(this,b,d);if(G(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){a=this.chart;var g=this.options.crosshair.label,h=this.horiz;e=this.opposite;f=this.left;var k=this.top,l=this.crossLabel,m,n=g.format,t="",q="inside"===this.options.tickPosition,p=!1!==this.crosshair.snap,r=0;b||(b=this.cross&&this.cross.e);
m=h?"center":e?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center";l||(l=this.crossLabel=a.renderer.label(null,null,null,g.shape||"callout").addClass("highcharts-crosshair-label"+(this.series[0]&&" highcharts-color-"+this.series[0].colorIndex)).attr({align:g.align||m,padding:c(g.padding,8),r:c(g.borderRadius,3),zIndex:2}).add(this.labelGroup),l.attr({fill:g.backgroundColor||this.series[0]&&this.series[0].color||"#666666",stroke:g.borderColor||"","stroke-width":g.borderWidth||
0}).css(y({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},g.style)));h?(m=p?d.plotX+f:b.chartX,k+=e?0:this.height):(m=e?this.width+f:0,k=p?d.plotY+k:b.chartY);n||g.formatter||(this.isDatetimeAxis&&(t="%b %d, %Y"),n="{value"+(t?":"+t:"")+"}");b=p?d[this.isXAxis?"x":"y"]:this.toValue(h?b.chartX:b.chartY);l.attr({text:n?w(n,{value:b}):g.formatter.call(this,b),x:m,y:k,visibility:"visible"});b=l.getBBox();if(h){if(q&&!e||!q&&e)k=l.y-b.height}else k=l.y-b.height/2;h?(e=f-b.x,f=
f+this.width-b.x):(e="left"===this.labelAlign?f:0,f="right"===this.labelAlign?f+this.width:a.chartWidth);l.translateX<e&&(r=e-l.translateX);l.translateX+b.width>=f&&(r=-(l.translateX+b.width-f));l.attr({x:m+r,y:k,anchorX:h?m:this.opposite?0:a.chartWidth,anchorY:h?this.opposite?a.chartHeight:0:k+b.height/2})}});v.init=function(){g.apply(this,arguments);this.setCompare(this.options.compare)};v.setCompare=function(a){this.modifyValue="value"===a||"percent"===a?function(b,c){var d=this.compareValue;if(void 0!==
b&&void 0!==d)return b="value"===a?b-d:b/d*100-(100===this.options.compareBase?0:100),c&&(c.change=b),b}:null;this.userOptions.compare=a;this.chart.hasRendered&&(this.isDirty=!0)};v.processData=function(){var a,b=-1,c,d,e,f;h.apply(this,arguments);if(this.xAxis&&this.processedYData)for(c=this.processedXData,d=this.processedYData,e=d.length,this.pointArrayMap&&(b=x("close",this.pointArrayMap),-1===b&&(b=x(this.pointValKey||"y",this.pointArrayMap))),a=0;a<e-1;a++)if(f=-1<b?d[a][b]:d[a],n(f)&&c[a+1]>=
this.xAxis.min&&0!==f){this.compareValue=f;break}};r(v,"getExtremes",function(a){var b;a.apply(this,[].slice.call(arguments,1));this.modifyValue&&(b=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=p(b),this.dataMax=F(b))});z.prototype.setCompare=function(a,b){this.isXAxis||(H(this.series,function(b){b.setCompare(a)}),c(b,!0)&&this.chart.redraw())};k.prototype.tooltipFormatter=function(b){b=b.replace("{point.change}",(0<this.change?"+":"")+a.numberFormat(this.change,c(this.series.tooltipOptions.changeDecimals,
2)));return C.apply(this,[b])};r(d.prototype,"render",function(a){this.chart.is3d&&this.chart.is3d()||this.chart.polar||!this.xAxis||this.xAxis.isRadial||(!this.clipBox&&this.animate?(this.clipBox=b(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]?this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}):this.clipBox&&(this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len));a.call(this)})})(J)});
