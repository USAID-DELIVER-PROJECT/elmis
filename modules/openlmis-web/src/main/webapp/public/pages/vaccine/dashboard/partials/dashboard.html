<!DOCTYPE html>


<!--
  ~ Electronic Logistics Management Information System (eLMIS) is a supply chain management system for health commodities in a developing country setting.
  ~
  ~ Copyright (C) 2015  John Snow, Inc (JSI). This program was produced for the U.S. Agency for International Development (USAID). It was prepared under the USAID | DELIVER PROJECT, Task Order 4.
  ~
  ~ This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->
<style>
    .left{float:left; width:33%; }
    .dashlet-container{
        min-height: 450px;
        top:auto;}
    .header-section{

    }

    .filter-place-holder{
        min-height: 40px;
    }

    tr.lot-expired td span,
    tr.lot-expired td {
    color:#d58512;
    }

</style>
<script type="text/ng-template" id="myModalContent.html">
    <div style="width: 800px;" class="modal-header modal-header">
        <button  class="close" ng-click="ok()">X</button>
        <h2 ng-show="!show_email"><i class="flaticon-bar"></i>Reporting Detail</h2>

        <h2 ng-show="show_email"><i class="flaticon-bar"></i>Email Notification</h2>
    </div>
    <div class="modal-body">
        <div style="font-weight: bold" ng-hide="items.length > 0" openlmis-message="label.report.no.data.to.show"></div>
        <div ng-show="show_email">
            <div>
                <p>
                    Use this form to customize and send email notifications for
                    <strong>{{selected_facility.name}}</strong>
                </p>

                <div style="padding: 10px;">
                    <div>
                        <textarea rows="4" style="width: 350px;" ng-model="email_template"></textarea>
                    </div>
                    <div>
                        Who receives this notification?
                        <div>
                            <table class="table table-bordered">
                                <tr ng-repeat="contact in contacts">
                                    <td><strong>{{contact.name}}</strong></td>
                                    <td>{{contact.contact}}</td>
                                </tr>
                            </table>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="row-fluid dashlet-scroll-table" ng-show="!show_email">
            <table id="fullSupplyTable" ng-show="items.length > 0"
                   class="rnr-table table-bordered table"
                   ng-table="tableParams">
                <thead>
                <tr>
                    <th>
                        <span openlmis-message="label.district">	 </span>
                    </th>
                    <th
                            >
                        <span openlmis-message="label.facility">	 </span>
                    </th>

                    <th>
                        <span openlmis-message="label.vaccine.dashboard.reportingDate"></span>

                    </th>
                    <th>
                        <span openlmis-message="label.vaccine.dashboard.reportingStatus"></span>

                    </th>
                    <th>
                        <span openlmis-message="label.vaccine.dashboard.sendReminder"></span>

                    </th>

                    <th>
                        <span openlmis-message="label.phone"></span>

                    </th>

                </tr>


                </thead>
                <tbody
                        >
                <tr ng-style="{'background-color': getBackGroundColor($index)}"
                    ng-repeat="subRow in items">

                    <td>{{ items[$index-1].district == subRow.district ? '' : subRow.district }}</td>
                    <td ng-bind="subRow.facility_name"></td>
                    <td ng-bind="subRow.reported_date| date:'dd-MMM-yyyy'"
                            />

                    <td ng-bind="subRow.reporting_status"
                            />

                    <td
                            ><input ng-if="subRow.hascontacts" ng-click="itemChecked($index)" type="checkbox"/></td>
                    <td ng-bind="subRow.mainphone"></td>
                </tr>
                </tbody>
                <tfoot>
                <td colspan="4" style="text-align: right;"><a><span style="text-align: right;"></span></a></td>
                <td style="text-align: center;"><a ng-click="emailForNonReportingFacilities()"><span
                        style="text-align: center;">Email</span></a></td>
                </tfoot>
            </table>
        </div>
        <div class="modal-footer">
            <button ng-show="show_email" class="btn btn-primary pull-right" type="button"
                    ng-click="sendVaccineFacilityEmail()">Send
            </button>
            <button class="btn btn-primary pull-right" type="button" ng-click="ok()">Close</button>
        </div>
    </div>

</script>

<script type="text/ng-template" id="supplying.html">
    <div class="modal-header">
        <button class="close" ng-click="ok()">X</button>
        <h2><i class="flaticon-bar"></i> Pending orders</h2>
    </div>
    <div class="modal-body">
        <div style="font-weight: bold" ng-hide="items.length > 0" openlmis-message="label.report.no.data.to.show"></div>

        <div class="row-fluid dashlet-scroll-table" ng-show="!show_email">
            <table id="supplyingTable" ng-show="items.length > 0"
                   class="rnr-table table-bordered table"
                   ng-table="tableParams">
                <thead>
                <tr>
                    <th
                            style="  width: 40px">
                        <span openlmis-message="label.facility">	 </span>
                    </th>

                    <th>
                        <span openlmis-message="label.period"></span>

                    </th>
                    <th style="width: 10px">
                        <span openlmis-message="label.vaccine.report.init.status"></span>

                    </th>
                    <th style=" text-align: left;">
                        <span openlmis-message="label.date.submitted"></span>

                    </th>
                    <th style=" text-align: left;">
                        <span openlmis-message="label.action"></span>
                    </th>

                </tr>


                </thead>
                <tbody
                        >
                <tr ng-style="{'background-color': getBackGroundColor($index)}"
                    ng-repeat="subRow in items">
                    <td>{{ items[$index-1].facilityName == subRow.facilityName ? '' : subRow.facilityName }}</td>
                    <td ng-bind="subRow.periodName"></td>
                    <td ng-bind="subRow.status"></td>
                    <td ng-bind="subRow.orderDate| date:'dd-MMM-yyyy'"></td>
                    <td style=" text-align: left;"><a style="float:left"
                                                      href="/public/pages/vaccine/inventory/stock-movement/index.html#/stock-movement-view/{{subRow.programId}}/{{subRow.periodId}}/{{subRow.facilityId}}/{{subRow.facilityName}}/{{subRow.id}}?page=1"
                                                      class="btn small-btn btn-info" target="_parent">
                        <span openlmis-message="issue"></span>
                    </a></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal-footer">
        <button ng-show="show_email" class="btn btn-primary pull-right" type="button"
                ng-click="sendVaccineFacilityEmail()">Send
        </button>
        <button class="btn btn-primary pull-right" type="button" ng-click="ok()">Close</button>
    </div>
</script>

<script type="text/ng-template" id="supplying-pending-receive.html">
    <div class="modal-header modal-header">
        <button class="close" ng-click="ok()">X</button>
        <h2><i class="flaticon-bar"></i>Pending orders</h2>
    </div>
    <div class="modal-body">
        <div style="font-weight: bold"
             ng-hide="items.supplyingPendingToReceiveLowerLevel.length > 0 || items.supplyingPendingToReceive.length >0"
             openlmis-message="label.report.no.data.to.show"></div>

        <div class="row-fluid dashlet-scroll-table" ng-show="!show_email">
            <table class="rnr-table table-bordered table"
                   ng-table="tableParams"
                   ng-show="items.supplyingPendingToReceive.length > 0">
                <thead>
                <tr class="alert alert-warning">
                    <th style="text-align: left" colspan="7">
                            <span data-toggle="tooltip"
                                  title="No functional" class="icon-warning-sign red"></span>&nbsp;&nbsp;
                        <span style="text-align: center;"> You have pending request that need to be received</span>
                    </th>
                </tr>
                <tr style="text-align:left" class="">
                    <!--<th style="width: 30px">Ordered Date</th>-->
                    <th style="width: 30px">Date Issued</th>
                    <th style="width: 40px">Issued from</th>
                    <th style="width: 30px">Status</th>
                    <th style="width: 30px">Action</th>

                </tr>

                </thead>
                <tbody>
                <tr ng-style="{'background-color': getBackGroundColor($index)}"
                    ng-repeat="alert in items.supplyingPendingToReceive">
                    <!--<td ng-bind="alert.createdDate | date:'dd-MM-yyyy'"></td>-->
                    <td ng-bind="alert.distributionDate | date:'dd-MM-yyyy'"></td>
                    <td ng-bind="alert.fromFacilityName"></td>
                    <td ng-bind="alert.status"></td>
                    <td>
                        <a class="btn-small btn-info" href="/public/pages/vaccine/inventory/index.html#/receive"
                           openlmis-message="label.vaccine.stock.receive"></a>
                    </td>
                </tr>
                </tbody>

            </table>
            <br/>
            <table
                    class="rnr-table table-bordered table"
                    ng-table="tableParams"
                    ng-show="items.supplyingPendingToReceiveLowerLevel.length > 0">
                <thead>
                <tr class="alert alert-warning">
                    <th style="text-align: left" colspan="6">
                            <span data-toggle="tooltip"
                                  class="icon-warning-sign red"></span>&nbsp;&nbsp;
                        <span style="text-align: center;">Supervised Facilities not received consignment for more than  <span>{{items.daysForUnreceivedNotification}}</span> days</span>
                    </th>
                </tr>
                <tr style="text-align:left" class="">
                    <th style="width: 40px">Store Name</th>
                    <th style="width: 30px">Date Issued</th>
                    <th style="width: 40px">Voucher #</th>
                    <th style="width: 40px">Status</th>
                    <th style="width: 40px">Phone #</th>
                </tr>

                </thead>
                <tbody>
                <tr ng-style="{'background-color': getBackGroundColor($index)}"
                    ng-repeat="alert in items.supplyingPendingToReceiveLowerLevel">
                    <td ng-bind="alert.toFacilityName"></td>
                    <td ng-bind="alert.distributionDate | date:'dd-MM-yyyy'"></td>
                    <td ng-bind="alert.voucherNumber"></td>
                    <td ng-bind="alert.status"></td>
                    <td ng-bind="alert.cellPhone"></td>
                </tr>
                </tbody>

            </table>

            <br/>


        </div>
    </div>
    <div class="modal-footer">
        <button ng-show="show_email" class="btn btn-primary pull-right" type="button"
                ng-click="sendVaccineFacilityEmail()">Send
        </button>
        <button class="btn btn-primary pull-right" type="button" ng-click="ok()">Close</button>
    </div>
</script>
<script type="text/ng-template" id="repairing.html">
    <div class="modal-header">
        <button  class="close" ng-click="ok()">X</button>
        <h2 ng-show="!show_email"><i class="flaticon-bar"></i>Repairing</h2>

        <h3 ng-show="show_email">Email Notification</h3>
    </div>
    <div class="modal-body">
        <div style="font-weight: bold" ng-hide="items.length > 0" openlmis-message="label.report.no.data.to.show"></div>
         <div ng-show="show_email">
            <div>
                <p>
                    Use this form to customize and send email notifications for
                    <strong>{{selected_facility.name}}</strong>
                </p>

                <div style="padding: 10px;">
                    <div>
                        <textarea rows="4" style="width: 350px;" ng-model="email_template"></textarea>
                    </div>
                    <div>
                        Who receives this notification?
                        <div>
                            <table class="table table-bordered">
                                <tr ng-repeat="contact in contacts">
                                    <td><strong>{{contact.name}}</strong></td>
                                    <td>{{contact.contact}}</td>
                                </tr>
                            </table>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="row-fluid dashlet-scroll-table" ng-show="!show_email">
            <!--<table id="repairingTable" ng-show="items.length > 0"-->
            <!--class="rnr-table table-bordered table"-->
            <!--ng-table="tableParams">-->
            <!--<thead>-->
            <!--<tr>-->

            <!--<th-->
            <!--style="  width: 40px">-->
            <!--<span openlmis-message="label.facility">	 </span>-->
            <!--</th>-->

            <!--<th>-->
            <!--<span openlmis-message="label.vaccine.dashboard.refrigator"></span>-->

            <!--</th>-->
            <!--<th style="width: 10px">-->
            <!--<span openlmis-message="label.vaccine.dashboard.model"></span>-->

            <!--</th>-->
            <!--<th style=" text-align: center; vertical-align: middle">-->
            <!--<span openlmis-message="label.vaccine.dashboard.year"></span>-->

            <!--</th>-->
            <!--<th style=" text-align: center; vertical-align: middle">-->
            <!--<span openlmis-message="label.vaccine.dashboard.dateReported"></span>-->

            <!--</th>-->
            <!--<th style=" text-align: center; vertical-align: middle">-->
            <!--<span openlmis-message="label.vaccine.dashboard.notify"></span>-->

            <!--</th>-->


            <!--</tr>-->


            <!--</thead>-->
            <!--<tbody-->
            <!-->
            <!--<tr ng-style="{'background-color': getBackGroundColor($index)}"-->
            <!--ng-repeat="subRow in items">-->


            <!--<td>{{ items[$index-1].facility_name == subRow.facility_name ? '' : subRow.facility_name }}</td>-->
            <!--<td ng-bind="subRow.equipment_name"></td>-->
            <!--<td ng-bind="subRow.model"></td>-->
            <!--<td ng-bind="subRow.year_installed"></td>-->
            <!--<td ng-bind="subRow.date_reported| date:'dd-MMM-yyyy'"-->
            <!--/>-->


            <!--<td-->
            <!--<input ng-if="items[$index-1].facility_name != subRow.facility_name"-->
            <!--ng-bind="subRow.checked" type="checkbox"/></td>-->
            <!--</tr>-->
            <!--</tbody>-->
            <!--<tfoot>-->
            <!--<td colspan="5" style="text-align: right;"><a><span style="text-align: right;"></span></a></td>-->
            <!--<td style="text-align: center;"><a ng-click="emailForNonReportingFacilities()"><span-->
            <!--style="text-align: center;">Email</span></a>-->
            <!--<button class="btn btn-primary pull-right" type="button" ng-click="ok()">Close</button>-->
            <!--</td>-->
            <!--</tfoot>-->
            <!--</table>-->

            <table id="repairingTable" ng-show="items.length > 0"
                   class="rnr-table table-bordered table"
                   ng-table="tableParams">
                <thead>
                <tr>
                    <th style="  width: 40px">
                        <span openlmis-message="label.facility">	 </span>
                    </th>
                    <th style="width: 10px">
                        <span openlmis-message="Equipment"></span>
                    </th>
                    <th style="">
                        <span openlmis-message="label.vaccine.dashboard.dateReported"></span>
                    </th>
                    <th style="">
                        <span openlmis-message="label.reported.by"></span>
                    </th>
                </tr>

                </thead>
                <tbody ng-repeat="subRow in items">
                <tr>
                    <td colspan="4" style="background:#006dcc">{{subRow.status}}</td>
                </tr>
                <tr ng-style="{'background-color': getBackGroundColor($index)}"
                    ng-repeat="eq in subRow.data">
                    <td>{{eq.facilityName}}</td>
                    <td ng-bind="eq.model"></td>
                    <td ng-bind="eq.modifiedDate | date:'dd-MMM-yyyy'"/>
                    <td ng-bind="eq.changeBy"></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal-footer">
        <button ng-show="show_email" class="btn btn-primary pull-right" type="button"
                ng-click="sendVaccineFacilityEmail()">Send
        </button>
        <button class="btn btn-primary pull-right" type="button" ng-click="ok()">Close</button>
    </div>
</script>

<script type="text/ng-template" id="batch-expiry.html">
    <div class="modal-header modal-header">
        <button  class="close" ng-click="ok()">X</button>
        <h2 ><i class="flaticon-bar"></i>List Of Batches Nearly To Expire</h2>


    </div>
    <div class="modal-body">
        <div style="font-weight: bold" ng-hide="items.length > 0" openlmis-message="label.report.no.data.to.show"></div>
        <div class="row-fluid dashlet-scroll-table">
            <table id="batchToExpireTable" ng-show="items.length > 0"
                   class="rnr-table table-bordered table"
                   ng-table="tableParams">
                <thead>
                <tr>

                    <th style=" text-align: left; vertical-align: middle">
                        <span openlmis-message="label.vaccine.dashboard.products"></span>

                    </th>
                    <th style=" text-align: left; vertical-align: middle">
                        <span openlmis-message="label.vaccine.dashboard.Batch"></span>

                    </th>
                    <th style=" text-align: left; vertical-align: middle">
                        <span openlmis-message="label.stock.on.hand"></span>
                    </th>


                    <th style=" text-align: left; vertical-align: middle">
                        <span openlmis-message="label.expiryDate"></span>
                    </th>
                    <th style=" text-align: left; vertical-align: middle">
                        <span openlmis-message="label.vaccine.adverse.effect.manufacturer"></span>
                    </th>

                </tr>

                </thead>
                <tbody>
                <tr ng-style="{'background-color': getBackGroundColor($index)}"
                    ng-repeat="subRow in items"
                    ng-init="subRow.hasExpired=$parent.lotHasExpired(subRow.expirationDate)"
                    ng-class="{'lot-expired':subRow.hasExpired}">

                    <td ng-bind="subRow.product"></td>
                    <td>
                        <span ng-bind="subRow.lotNumber"></span>
                        <span ng-show="subRow.hasExpired">&nbsp;(Expired)</span>
                    </td>
                    <td ng-bind="subRow.quantityOnHand | number"></td>
                    <td ng-bind="subRow.expirationDate| date:'dd-MMM-yyyy'"/>
                    <td ng-bind="subRow.manufacturerName"></td>

                </tr>
                </tbody>

            </table>
        </div>
        <div class="modal-footer">

            <button class="btn btn-primary pull-right" type="button" ng-click="ok()">Close</button>
        </div>
    </div>

</script>





<script type="text/ng-template" id="investigating.html">
    <div class="modal-header modal-header">
        <button  class="close" ng-click="ok()">X</button>
        <h2 ><i class="flaticon-bar"></i>Investigation Detail</h2>


    </div>
    <div class="modal-body">
        <div style="font-weight: bold" ng-hide="items.length > 0" openlmis-message="label.report.no.data.to.show"></div>
        <div class="row-fluid dashlet-scroll-table">
        <table id="investigatingTable" ng-show="items.length > 0"
               class="rnr-table table-bordered table"
               ng-table="tableParams">
            <thead>
            <tr>

                <th
                        style="  width: 40px">
                    <span openlmis-message="label.facility">	 </span>
                </th>

                <th>
                    <span openlmis-message="label.vaccine.dashboard.incident"></span>

                </th>
                <th style="width: 10px">
                    <span openlmis-message="label.vaccine.dashboard.incident.date"></span>

                </th>
                <th style=" text-align: center; vertical-align: middle">
                    <span openlmis-message="label.vaccine.dashboard.products"></span>

                </th>
                <th style=" text-align: center; vertical-align: middle">
                    <span openlmis-message="label.vaccine.dashboard.Batch"></span>

                </th>
                <th style=" text-align: center; vertical-align: middle">
                    <span openlmis-message="label.expiryDate"></span>
                </th>
                <th style=" text-align: center; vertical-align: middle">
                    <span openlmis-message="label.vaccine.adverse.effect.manufacturer"></span>
                </th>


                <th style=" text-align: center; vertical-align: middle">
                    <span openlmis-message="label.vaccine.dashboard.note"></span>

                </th>


            </tr>


            </thead>
            <tbody>
            <tr ng-style="{'background-color': getBackGroundColor($index)}" ng-repeat="subRow in items">
                <td>{{ items[$index-1].facility_name == subRow.facility_name ? '' : subRow.facility_name }}</td>
                <td ng-bind="subRow.aefi_case"></td>
                <td ng-bind="subRow.aefi_date| date:'dd-MMM-yyyy'"/>
                <td ng-bind="subRow.product_name"></td>
                <td ng-bind="subRow.aefi_batch"></td>
                <td ng-bind="subRow.aefi_expiry_date| date:'dd-MMM-yyyy'"/>
                <td ng-bind="subRow.manufacturer"></td>
                <td ng-bind="subRow.aefi_notes"></td>
            </tr>
            </tbody>

        </table>
        </div>
        <div class="modal-footer">

            <button class="btn btn-primary pull-right" type="button" ng-click="ok()">Close</button>
        </div>
    </div>

</script>
<script id="template/accordion/accordion.html" type="text/ng-template">
    <div class="accordion" ng-transclude></div>
</script>

<script id="template/accordion/accordion-group.html" type="text/ng-template">
    <div class="accordion-group">
        <div class="accordion-heading" style="margin-bottom:0; border-bottom:0">
            <a style="bottom:0" class="accordion-toggle" ng-class="{'collapsed':!isOpen,'open':isOpen}"
               ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a>
        </div>
        <div class="accordion-body" style="display:block; margin-bottom:0" collapse="!isOpen">

            <div class="accordion-inner" ng-transclude></div>
        </div>
    </div>
</script>
<div style="height: 20px">
    <div style="padding-top: -2px" class="pull-right">
 <a ng-click="expandAllTabs(true)">Expand All</a>|<a ng-click="expandAllTabs(false)">Collapse All</a>
    </div>
</div>
<div>

    <accordion>
        <accordion-group class="gray-cascade" is-open="actionBar.openPanel">
            <accordion-heading>
                <div class="accordion-title">
                    <div class="caption"><i class="flaticon-alert"></i>
                        <span class="caption-subject bold uppercase font-dark" openlmis-message="label.action.bar"></span>
                    </div>

                    <div  class="tools  pull-right">
                        <i ng-class="{'icon-minus-sign': actionBar.openPanel, 'icon-plus-sign': !actionBar.openPanel}"></i>
                    </div>
                    <div class=" pull-right ">
                        <span class="caption-subject bold  font-dark" openlmis-message="label.current.period"></span>: <span class="caption-helper">{{userPreferences.startdate| date:'MMMM,yyyy'}}</span>
                        <span class="caption-subject bold  font-dark"  openlmis-message="label.user.perimission.zone"></span>: <span class="caption-helper">{{userPreferences.zone_name}}&nbsp;</span>
                    </div>
                </div>

            </accordion-heading>

            <span class="reporting-header" style="padding: 0; margin:0; border: none; background: none">
                <!-- reporting-->
                <div class="box">
                    <h2><i class="flaticon-bar"></i>Reporting</h2>
                    <span openlmis-message="label.expected"></span>:
                    <span class="box-value"><a ng-click="openDetailDialog()" href="">{{reportingPerformance.expected | number}} </a></span>

                    <span openlmis-message="label.on.time"></span>:  <span class="box-value"><a
                            ng-click="openDetailDialog()"
                            href="">{{reportingPerformance.ontime | number}}</a>
                    </span>
                    <span openlmis-message="label.late"></span>:
                    <span class="box-value"><a ng-click="openDetailDialog()" href=""> {{reportingPerformance.late | number}} </a></span>
                </div>
                <!-- Supplying-->
                <div class="box-col2" style="margin-left: 10px;">
                    <h2><i class="flaticon-bar"></i>Supplying</h2>
                    <span openlmis-message="label.pending.orders"></span>:
                    <span class="box-value"><a ng-click="openSupplyingOrdersDetailDialog()" href="">{{supplying.orders |
                        number}}</a></span>&nbsp;
                    <span openlmis-message="label.pending.receive"></span>:
                    <span class="box-value">
                        <a ng-click="openSupplyingPendingReceiveDetailDialog()" href="">
                            {{(supplyingPendingReceive.supplyingPendingToReceive.length +
                            supplyingPendingReceive.supplyingPendingToReceiveLowerLevel.length) | number}}</a>
                    </span>
                </div>
                <!-- Equipment-->
                <div class="box-col3 row-fluid" style="margin-left: 10px;">
                    <h2><i class="flaticon-bar"></i>Repairing</h2>
                    <!--<span openlmis-message="label.refrigerator.repair.tickets"></span>:-->
                    <!--<span class="box-value"><a ng-click="openRepairingDetailDialog()" href=""> {{repairing.repairing}}</a></span>-->

                    <span openlmis-message="label.equipment.status.non.functional"></span>:
                    <span class="box-value"><a ng-click="openRepairingDetailDialog()" href="">
                        {{totalNonFunctionalEquipments}}</a></span>

                </div>
              <!-- Investigating-->
                <div class="box-col4" style="margin-left: 10px;">
                    <h2><i class="flaticon-bar"></i>Investigating</h2>
                    <span openlmis-message="label.aefi"></span>:  <span class="box-value"><a
                        ng-click="openInvestigatingDetailDialog()"
                        href="">{{investigating.count}}</a></span>
                    &nbsp;&nbsp;
                   <div class="pull-right" ng-show="batchToExpire.length > 0"> <span>Batch To Expire</span>: <span class="box-value"><a
                        ng-click="openBatchToExpireDialog()"
                        href="">{{totalBatchToExpire}}</a></span>
                   </div>

                </div>

            </span>
        </accordion-group>
    </accordion>
<!--session tab-->
    <accordion close-others="false">
        <accordion-group class="gray-cascade" is-open="sessions.openPanel">
            <accordion-heading>
                 <div class="accordion-title">

                    <div class="caption"><i class="flaticon-filter"></i>
                            <span  ng-click="sessionsTabCliced()" class="caption-subject bold uppercase font-dark" openlmis-message="label.dashboard.sessions"></span>
                    </div>
                    <div class="tools">
                        <i ng-class="{'icon-minus-sign': sessions.openPanel, 'icon-plus-sign': !sessions.openPanel}"></i>
                    </div>
                </div>

            </accordion-heading>

            <!-- session
            <div class="clearfix" >&nbsp;</div>-->
            <!-- begin row -->
            <div class="row">
                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.sessions"></span>
                            <span class="caption-helper">monthly...</span>
                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openSessionsHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="sessionDetailCallback()">
                                    <i class="icon-table"></i>
                                </a>
                            </div>
                        </div>
                        <ng-include
                                src="'/public/pages/vaccine/dashboard/partials/slide-sessions-monthly-trend.html'"></ng-include>
                    </div>
                </div>

                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.sessions"></span>
                            <span class="caption-helper">by district...</span>
                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openSessionsHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="sessionDetailCallback()">
                                    <i class="icon-table"></i>
                                </a>
                            </div>
                        </div>
                        <ng-include
                                    src="'/public/pages/vaccine/dashboard/partials/slide-sessions-district-trend.html'"></ng-include>
                    </div>
                </div>
                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.sessions"></span>
                            <span class="caption-helper">by facility...</span>
                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openSessionsHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="sessionDetailCallback()">
                                    <i class="icon-table"></i>
                                </a>
                            </div>

                        </div>
                        <ng-include
                                src="'/public/pages/vaccine/dashboard/partials/slide-sessions-facility-trend.html'"></ng-include>
                    </div>
                </div>
            </div>
        </accordion-group>

    <!-- coverage tab-->

        <accordion-group class="gray-cascade" is-open="coverage.openPanel">
            <accordion-heading>

                <div class="accordion-title">
                    <div class="caption"><i class="flaticon-filter"></i>
                        <span  ng-click="coverageTabCliced()" class="caption-subject bold uppercase font-dark" openlmis-message="label.dashboard.coverage"></span>
                    </div>
                    <div class="tools">
                        <i ng-class="{'icon-minus-sign': coverage.openPanel, 'icon-plus-sign': !coverage.openPanel}"></i>
                    </div>
                </div>

            </accordion-heading>
            <!-- end row -->
<!-- coverage -->

            <!-- begin row -->
            <div class="row">
                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.coverage"></span>
                            <span class="caption-helper">monthly...</span>

                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openCoverageHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a ng-click="coverageDetailCallback()" class="btn btn-circle btn-icon-only btn-default" tooltip="Detail Coverage">
                                    <i class="icon-table"></i>
                                </a>
                            </div>
                        </div>
                        <ng-include
                                src="'/public/pages/vaccine/dashboard/partials/slide-coverage-monthly-trend.html'"></ng-include>
                    </div>
                </div>

                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.coverage"></span>
                            <span class="caption-helper">by district...</span>
                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openCoverageHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="coverageDetailCallback()">
                                    <i class="icon-table"></i>
                                </a>
                            </div>
                        </div>
                        <ng-include
                                    src="'/public/pages/vaccine/dashboard/partials/slide-coverage-district-trend.html'"></ng-include>
                    </div>
                </div>
                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.coverage"></span>
                            <span class="caption-helper">by facility...</span>
                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openCoverageHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="coverageDetailCallback()">
                                    <i class="icon-table"></i>
                                </a>
                            </div>

                        </div>

                        <ng-include
                                src="'/public/pages/vaccine/dashboard/partials/slide-coverage-facility-trend.html'"></ng-include>
                    </div>
                </div>
            </div>
            <!-- end row -->
            <!-- drop out-->
        </accordion-group>

    <!-- dropout tab-->

        <accordion-group class="gray-cascade" is-open="dropout.openPanel">
            <accordion-heading>

                <div class="accordion-title">
                    <div class="caption"><i class="flaticon-filter"></i>
                        <span ng-click="dropoutTabCliced()" class="caption-subject bold uppercase font-dark" openlmis-message="label.dashboard.dropout"></span>
                    </div>
                    <div class="tools">
                        <i ng-class="{'icon-minus-sign': dropout.openPanel, 'icon-plus-sign': !dropout.openPanel}"></i>
                    </div>
                </div>

            </accordion-heading>
            <div class="clearfix" >&nbsp;</div>
            <!-- begin row -->
            <div class="row">
                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.dropout"></span>
                            <span class="caption-helper">monthly...</span>

                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openDropoutHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="dropoutDetailCallback()">
                                    <i class="icon-table"></i>
                                </a>
                            </div>
                        </div>
                        <ng-include
                                src="'/public/pages/vaccine/dashboard/partials/slide-dropout-monthly-trend.html'"></ng-include>
                    </div>
                </div>

                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.dropout"></span>
                            <span class="caption-helper">by district...</span>
                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openDropoutHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="dropoutDetailCallback()">
                                    <i class="icon-table"></i>
                                </a>
                            </div>
                        </div>
                        <ng-include
                                    src="'/public/pages/vaccine/dashboard/partials/slide-dropout-district-trend.html'"></ng-include>
                    </div>
                </div>
                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.dropout"></span>
                            <span class="caption-helper">by facility...</span>
                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openDropoutHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="dropoutDetailCallback()">
                                    <i class="icon-table"></i>
                                </a>
                            </div>

                        </div>

                        <ng-include
                                src="'/public/pages/vaccine/dashboard/partials/slide-dropout-facility-trend.html'"></ng-include>
                    </div>
                </div>
            </div>
            <!-- end row -->
        </accordion-group>

    <!-- wastage tab-->

        <accordion-group class="gray-cascade" is-open="wastage.openPanel">
            <accordion-heading>

                <div class="accordion-title">
                    <div class="caption"><i class="flaticon-filter"></i>
                        <span ng-click="wastageTabCliced()" class="caption-subject bold uppercase font-dark" openlmis-message="label.dashboard.wastagerate"></span>
                    </div>
                    <div class="tools">
                        <i ng-class="{'icon-minus-sign': wastage.openPanel, 'icon-plus-sign': !wastage.openPanel}"></i>
                    </div>
                </div>

            </accordion-heading>
            <!-- wastage -->

            <!-- begin row -->
            <div class="row">


                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.westage.rate"></span>
                            <span class="caption-helper">monthly...</span>

                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openWastageHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="wastageDetailCallback()">
                                    <i class="icon-table"></i>
                                </a>
                            </div>
                        </div>
                        <ng-include
                                src="'/public/pages/vaccine/dashboard/partials/slide-wastage-monthly-trend.html'"></ng-include>
                    </div>

                </div>

                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.westage.rate"></span>
                            <span class="caption-helper">by district...</span>
                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openWastageHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="wastageDetailCallback()">
                                    <i class="icon-table"></i>
                                </a>
                            </div>
                        </div>
                        <ng-include
                                    src="'/public/pages/vaccine/dashboard/partials/slide-wastage-district-trend.html'"></ng-include>
                    </div>
                </div>
                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.westage.rate"></span>
                            <span class="caption-helper">by facility...</span>
                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openWastageHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="wastageDetailCallback()">
                                    <i class="icon-table"></i>
                                </a>
                            </div>

                        </div>
                        <ng-include
                                src="'/public/pages/vaccine/dashboard/partials/slide-wastage-facility-trend.html'"></ng-include>
                    </div>
                </div>

            </div>
            <!-- end row -->
            <div class="clearfix" ></div>

        </accordion-group>
    </accordion>
    <accordion>
        <accordion-group class="gray-cascade" is-open="stockStatus.openPanel">
            <accordion-heading>
                <div class="accordion-title" ng-click="stockStatusTabClicked()">
                <div class="caption"><i class="flaticon-filter"></i>
                    <span class="caption-subject bold uppercase font-dark"
                          openlmis-message="label.stock.status.bar"></span>
                </div>
                <div class="tools">
                    <i ng-class="{'icon-minus-sign': stockStatus.openPanel, 'icon-plus-sign': !stockStatus.openPanel}"></i>
                </div>
            </div>

        </accordion-heading>

            <!-- stock status
            <div class="clearfix" >&nbsp;</div> -->
            <div class="row">
                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.stock.status"></span>
                            <span class="caption-helper">{{homeFacility.name}} Vaccine stock</span>

                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openMyStockHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a ng-click="openStockInventoryStatusDetails()"
                                   class="btn btn-circle btn-icon-only btn-default" tooltip="Detail Stock">
                                    <i class="icon-table"></i>
                                </a>
                            </div>
                        </div>
                        <ng-include
                                src="'/public/pages/vaccine/dashboard/partials/slide-my-stock-vaccine.html'"></ng-include>
                    </div>
                </div>

                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.stock.status"></span>
                            <span class="caption-helper">{{homeFacility.name}} Supplies stock</span>
                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openStockStatusHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a class="btn btn-circle btn-icon-only btn-default"
                                   ng-click="openStockInventoryStatusDetails()()">
                                    <i class="icon-table"></i>
                                </a>
                            </div>
                        </div>
                        <ng-include
                                src="'/public/pages/vaccine/dashboard/partials/slide-my-stock-supplies.html'"></ng-include>

                    </div>
                </div>
                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.stock.status"></span>
                            <span class="caption-helper">My supervised facilities stock</span>

                        </div>
                        <ng-include
                                src="'/public/pages/vaccine/dashboard/partials/slide-my-supervised-facilities-stock.html'"></ng-include>

                    </div>
                </div>
            </div>
        </accordion-group>
    </accordion>

<!-- Stock Status By Facility -->
    <accordion>
        <accordion-group class="gray-cascade" is-open="stockFacilityStatus.openPanel">
            <accordion-heading>
                <div class="accordion-title">
                    <div class="caption"><i class="flaticon-filter"></i>
                        <span ng-click="stockFacilityStatusTabCliced()" class="caption-subject bold uppercase font-dark" openlmis-message="label.stock.status.by.facility"></span>
                    </div>
                    <div class="tools">
                        <i ng-class="{'icon-minus-sign': stockFacilityStatus.openPanel, 'icon-plus-sign': !stockFacilityStatus.openPanel}"></i>
                    </div>
                </div>
            </accordion-heading>
            <div class="clearfix" ></div>
            <div class="row">
                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.stock.status"></span>
                            <span class="caption-helper">monthly...</span>

                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openStockStatusHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a ng-click="stockStatusDetailCallback()" class="btn btn-circle btn-icon-only btn-default" tooltip="Detail Coverage">
                                    <i class="icon-table"></i>
                                </a>
                            </div>
                        </div>
                        <ng-include
                                src="'/public/pages/vaccine/dashboard/partials/slide-stock-status-monthly-trend.html'"></ng-include>
                    </div>
                </div>

                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.stock.status"></span>
                            <span class="caption-helper">by district...</span>
                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openStockStatusHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="stockStatusDetailCallback()">
                                    <i class="icon-table"></i>
                                </a>
                            </div>
                        </div>
                        <ng-include
                                    src="'/public/pages/vaccine/dashboard/partials/slide-stock-status-district.html'"></ng-include>
                    </div>
                </div>
                <div class="col-md-6 col-sm-6">
                    <div class="portlet light">
                        <div class="caption">
                            <span class="caption-subject bold uppercase font-dark" openlmis-message="title.stock.status"></span>
                            <span class="caption-helper">by facility...</span>
                            <div class="actions">
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="openStockStatusHelp()">
                                    <i class="icon-info"></i>
                                </a>
                                <a class="btn btn-circle btn-icon-only btn-default" ng-click="stockStatusDetailCallback()">
                                    <i class="icon-table"></i>
                                </a>
                            </div>

                        </div>

                        <ng-include
                                src="'/public/pages/vaccine/dashboard/partials/slide-stock-status-facility.html'"></ng-include>
                    </div>
                </div>
            </div>
        </accordion-group>
    </accordion>

<!--
    <accordion>
           <accordion-group class="gray-cascade" is-open="stockStatus.openPanel">
               <accordion-heading>
                   <div class="accordion-title">
                       <div class="caption">
                           <span openlmis-message="label.stock.status"></span>
                       </div>
                       <div class="tools">
                           <i ng-class="{'icon-minus-sign': stockStatus.openPanel, 'icon-plus-sign': !stockStatus.openPanel}"></i>
                       </div>
                   </div>
               </accordion-heading>

               <tabset class="table">
                   <tab>
                       <tab-heading style="cursor: pointer;"><span openlmis-message="title.stock"></span></tab-heading>
                       <carousel interval="setInterval('stock')">
                           <slide>
                               <ng-include
                                       src="'/public/pages/vaccine/dashboard/partials/slide-mystock-monthly-trend.html'"></ng-include>
                           </slide>
                           <slide>
                               <ng-include
                                       src="'/public/pages/vaccine/dashboard/partials/slide-mystock-district-trend.html'"></ng-include>
                           </slide>

                           <slide>
                               <ng-include
                                       src="'/public/pages/vaccine/dashboard/partials/slide-mystock-facility-trend.html'"></ng-include>
                               </slide>

                           <slide>
                               <ng-include
                                       src="'/public/pages/vaccine/dashboard/partials/slide-mystock-detail-trend.html'"></ng-include>
                           </slide>

                           <slide>
                               <ng-include src="'/public/pages/vaccine/dashboard/partials/slide-mystock-help-content.html'"></ng-include>
                           </slide>
                           </carousel>
                   </tab>
                   <tab>
                       <tab-heading style="cursor: pointer;"><span openlmis-message="title.bundling"></span></tab-heading>
                       <carousel interval="setInterval('bundling')">
                           <slide>
                               <ng-include
                                       src="'/public/pages/vaccine/dashboard/partials/slide-bundling-one-trend.html'"></ng-include>
                           </slide>
                           <slide>
                           </slide>
                           <slide>
                           </slide>
                           <slide>
                           </slide>
                           <slide>
                           </slide>
                       </carousel>
                    </tab>
                   </tabset>

           </accordion-group>
       </accordion>
-->

    </div>