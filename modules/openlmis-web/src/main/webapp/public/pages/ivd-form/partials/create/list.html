<!--
  ~ Electronic Logistics Management Information System (eLMIS) is a supply chain management system for health commodities in a developing country setting.
  ~
  ~ Copyright (C) 2015  John Snow, Inc (JSI). This program was produced for the U.S. Agency for International Development (USAID). It was prepared under the USAID | DELIVER PROJECT, Task Order 4.
  ~
  ~ This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div>
  <h2><span openlmis-message="label.vaccine.report.init.title"></span></h2>

  <ng-include src="'/public/pages/ivd-form/partials/shared/program-filter.html'"></ng-include>

  <div class="row-fluid">
    <div class="span12">
      <label openlmis-message="label.facility"></label>
    </div>
  </div>
  <div class="row-fluid">

    <div class="pull-right">
      <div>
        <a href="" ng-click="showDownloadDialog= !showDownloadDialog">Download offline data entry form</a>
      </div>
      <div ng-show="showDownloadDialog">
        <label for="year">Select a Year</label>
        <select id="year" ng-model="year">
          <option value="2016">2016</option>
        </select>
        <button ng-disabled="!year" class="btn btn-block" ng-click="downloadOfflineForm()">Download</button>
      </div>
    </div>

    <select ui-select2
            id="facility" class="span3"
            ng-model="filter.facility"  ng-change="onFacilityChanged()">
      <option value="{{facility.id}}" ng-repeat="facility in facilities">{{facility.name}}</option>

    </select>
  </div>

  <div class="row-fluid" ng-show="filter.facility">
    <div class="row-fluid init-rnr-grid">
      <div class="span6">
        <div class="gridStyle small" ng-grid="periodGridOptions"
             ng-show="!(periodGridData.length == 0)"></div>
        <div
             ng-show="periodGridData == undefined || periodGridData.length == 0">
          <span openlmis-message="label.vaccine.no.pending.periods"></span>
        </div>
      </div>
    </div>
  </div>
  <div class="row-fluid" ng-show="error">
    <div class="span12">
      <div class="alert alert-error" id="saveSuccessMsgDiv"
           openlmis-message="error" ng-show="error"></div>
    </div>
  </div>

</div>